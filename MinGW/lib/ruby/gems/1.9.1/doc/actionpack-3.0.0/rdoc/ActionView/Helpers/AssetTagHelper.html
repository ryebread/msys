<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Module: ActionView::Helpers::AssetTagHelper</title>

	<link rel="stylesheet" href="../../rdoc.css" type="text/css" media="screen" />

	<script src="../../js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../../js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../../js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../../js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="module">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../../index.html">Home</a>
          <a href="../../index.html#classes">Classes</a>
          <a href="../../index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="../../lib/action_view/helpers/asset_tag_helper_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/action_view/helpers/asset_tag_helper.rb">lib/action_view/helpers/asset_tag_helper.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			

			<!-- Namespace Contents -->
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-c-register_javascript_expansion">::register_javascript_expansion</a></li>
					
					<li><a href="#method-c-register_javascript_include_default">::register_javascript_include_default</a></li>
					
					<li><a href="#method-c-register_stylesheet_expansion">::register_stylesheet_expansion</a></li>
					
					<li><a href="#method-c-reset_javascript_include_default">::reset_javascript_include_default</a></li>
					
					<li><a href="#method-i-asset_file_path">#asset_file_path</a></li>
					
					<li><a href="#method-i-asset_file_path%21">#asset_file_path!</a></li>
					
					<li><a href="#method-i-audio_path">#audio_path</a></li>
					
					<li><a href="#method-i-audio_tag">#audio_tag</a></li>
					
					<li><a href="#method-i-auto_discovery_link_tag">#auto_discovery_link_tag</a></li>
					
					<li><a href="#method-i-collect_asset_files">#collect_asset_files</a></li>
					
					<li><a href="#method-i-compute_asset_host">#compute_asset_host</a></li>
					
					<li><a href="#method-i-compute_javascript_paths">#compute_javascript_paths</a></li>
					
					<li><a href="#method-i-compute_public_path">#compute_public_path</a></li>
					
					<li><a href="#method-i-compute_stylesheet_paths">#compute_stylesheet_paths</a></li>
					
					<li><a href="#method-i-determine_source">#determine_source</a></li>
					
					<li><a href="#method-i-ensure_javascript_sources%21">#ensure_javascript_sources!</a></li>
					
					<li><a href="#method-i-ensure_stylesheet_sources%21">#ensure_stylesheet_sources!</a></li>
					
					<li><a href="#method-i-expand_javascript_sources">#expand_javascript_sources</a></li>
					
					<li><a href="#method-i-expand_stylesheet_sources">#expand_stylesheet_sources</a></li>
					
					<li><a href="#method-i-favicon_link_tag">#favicon_link_tag</a></li>
					
					<li><a href="#method-i-image_path">#image_path</a></li>
					
					<li><a href="#method-i-image_tag">#image_tag</a></li>
					
					<li><a href="#method-i-is_uri%3F">#is_uri?</a></li>
					
					<li><a href="#method-i-javascript_include_tag">#javascript_include_tag</a></li>
					
					<li><a href="#method-i-javascript_path">#javascript_path</a></li>
					
					<li><a href="#method-i-javascript_src_tag">#javascript_src_tag</a></li>
					
					<li><a href="#method-i-join_asset_file_contents">#join_asset_file_contents</a></li>
					
					<li><a href="#method-i-path_to_audio">#path_to_audio</a></li>
					
					<li><a href="#method-i-path_to_image">#path_to_image</a></li>
					
					<li><a href="#method-i-path_to_javascript">#path_to_javascript</a></li>
					
					<li><a href="#method-i-path_to_stylesheet">#path_to_stylesheet</a></li>
					
					<li><a href="#method-i-path_to_video">#path_to_video</a></li>
					
					<li><a href="#method-i-rails_asset_id">#rails_asset_id</a></li>
					
					<li><a href="#method-i-rewrite_asset_path">#rewrite_asset_path</a></li>
					
					<li><a href="#method-i-rewrite_extension%3F">#rewrite_extension?</a></li>
					
					<li><a href="#method-i-rewrite_host_and_protocol">#rewrite_host_and_protocol</a></li>
					
					<li><a href="#method-i-stylesheet_link_tag">#stylesheet_link_tag</a></li>
					
					<li><a href="#method-i-stylesheet_path">#stylesheet_path</a></li>
					
					<li><a href="#method-i-stylesheet_tag">#stylesheet_tag</a></li>
					
					<li><a href="#method-i-video_path">#video_path</a></li>
					
					<li><a href="#method-i-video_tag">#video_tag</a></li>
					
					<li><a href="#method-i-write_asset_file_contents">#write_asset_file_contents</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
		</div>

		<div id="project-metadata">
			
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="../../images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="../../ActionController/Base.html">ActionController::Base</a></li>
				
					<li><a href="../../ActionController/Caching.html">ActionController::Caching</a></li>
				
					<li><a href="../../ActionController/Caching/Actions.html">ActionController::Caching::Actions</a></li>
				
					<li><a href="../../ActionController/Caching/Actions/ActionCachePath.html">ActionController::Caching::Actions::ActionCachePath</a></li>
				
					<li><a href="../../ActionController/Caching/Actions/ClassMethods.html">ActionController::Caching::Actions::ClassMethods</a></li>
				
					<li><a href="../../ActionController/Caching/ConfigMethods.html">ActionController::Caching::ConfigMethods</a></li>
				
					<li><a href="../../ActionController/Caching/Pages.html">ActionController::Caching::Pages</a></li>
				
					<li><a href="../../ActionController/Caching/Pages/ClassMethods.html">ActionController::Caching::Pages::ClassMethods</a></li>
				
					<li><a href="../../ActionController/Caching/Sweeping.html">ActionController::Caching::Sweeping</a></li>
				
					<li><a href="../../ActionController/Compatibility.html">ActionController::Compatibility</a></li>
				
					<li><a href="../../ActionController/Compatibility/ClassMethods.html">ActionController::Compatibility::ClassMethods</a></li>
				
					<li><a href="../../ActionController/ConditionalGet.html">ActionController::ConditionalGet</a></li>
				
					<li><a href="../../ActionController/Cookies.html">ActionController::Cookies</a></li>
				
					<li><a href="../../ActionController/Dispatcher.html">ActionController::Dispatcher</a></li>
				
					<li><a href="../../ActionController/Flash.html">ActionController::Flash</a></li>
				
					<li><a href="../../ActionController/Head.html">ActionController::Head</a></li>
				
					<li><a href="../../ActionController/Helpers.html">ActionController::Helpers</a></li>
				
					<li><a href="../../ActionController/Helpers/ClassMethods.html">ActionController::Helpers::ClassMethods</a></li>
				
					<li><a href="../../ActionController/HideActions.html">ActionController::HideActions</a></li>
				
					<li><a href="../../ActionController/HideActions/ClassMethods.html">ActionController::HideActions::ClassMethods</a></li>
				
					<li><a href="../../ActionController/HttpAuthentication.html">ActionController::HttpAuthentication</a></li>
				
					<li><a href="../../ActionController/HttpAuthentication/Basic.html">ActionController::HttpAuthentication::Basic</a></li>
				
					<li><a href="../../ActionController/HttpAuthentication/Basic/ControllerMethods.html">ActionController::HttpAuthentication::Basic::ControllerMethods</a></li>
				
					<li><a href="../../ActionController/HttpAuthentication/Digest.html">ActionController::HttpAuthentication::Digest</a></li>
				
					<li><a href="../../ActionController/HttpAuthentication/Digest/ControllerMethods.html">ActionController::HttpAuthentication::Digest::ControllerMethods</a></li>
				
					<li><a href="../../ActionController/HttpAuthentication/Token.html">ActionController::HttpAuthentication::Token</a></li>
				
					<li><a href="../../ActionController/HttpAuthentication/Token/ControllerMethods.html">ActionController::HttpAuthentication::Token::ControllerMethods</a></li>
				
					<li><a href="../../ActionController/ImplicitRender.html">ActionController::ImplicitRender</a></li>
				
					<li><a href="../../ActionController/Instrumentation.html">ActionController::Instrumentation</a></li>
				
					<li><a href="../../ActionController/Instrumentation/ClassMethods.html">ActionController::Instrumentation::ClassMethods</a></li>
				
					<li><a href="../../ActionController/LogSubscriber.html">ActionController::LogSubscriber</a></li>
				
					<li><a href="../../ActionController/Metal.html">ActionController::Metal</a></li>
				
					<li><a href="../../ActionController/Middleware.html">ActionController::Middleware</a></li>
				
					<li><a href="../../ActionController/Middleware/ActionMiddleware.html">ActionController::Middleware::ActionMiddleware</a></li>
				
					<li><a href="../../ActionController/MimeResponds/ClassMethods.html">ActionController::MimeResponds::ClassMethods</a></li>
				
					<li><a href="../../ActionController/RackDelegation.html">ActionController::RackDelegation</a></li>
				
					<li><a href="../../ActionController/Railtie.html">ActionController::Railtie</a></li>
				
					<li><a href="../../ActionController/Redirecting.html">ActionController::Redirecting</a></li>
				
					<li><a href="../../ActionController/Renderers.html">ActionController::Renderers</a></li>
				
					<li><a href="../../ActionController/Renderers/All.html">ActionController::Renderers::All</a></li>
				
					<li><a href="../../ActionController/Renderers/ClassMethods.html">ActionController::Renderers::ClassMethods</a></li>
				
					<li><a href="../../ActionController/Rendering.html">ActionController::Rendering</a></li>
				
					<li><a href="../../ActionController/RequestForgeryProtection.html">ActionController::RequestForgeryProtection</a></li>
				
					<li><a href="../../ActionController/RequestForgeryProtection/ClassMethods.html">ActionController::RequestForgeryProtection::ClassMethods</a></li>
				
					<li><a href="../../ActionController/Rescue.html">ActionController::Rescue</a></li>
				
					<li><a href="../../ActionController/Responder.html">ActionController::Responder</a></li>
				
					<li><a href="../../ActionController/SessionManagement/ClassMethods.html">ActionController::SessionManagement::ClassMethods</a></li>
				
					<li><a href="../../ActionController/Streaming.html">ActionController::Streaming</a></li>
				
					<li><a href="../../ActionController/TemplateAssertions.html">ActionController::TemplateAssertions</a></li>
				
					<li><a href="../../ActionController/TestCase.html">ActionController::TestCase</a></li>
				
					<li><a href="../../ActionController/TestCase/Behavior.html">ActionController::TestCase::Behavior</a></li>
				
					<li><a href="../../ActionController/TestCase/Behavior/ClassMethods.html">ActionController::TestCase::Behavior::ClassMethods</a></li>
				
					<li><a href="../../ActionController/TestCase/RaiseActionExceptions.html">ActionController::TestCase::RaiseActionExceptions</a></li>
				
					<li><a href="../../ActionController/TestResponse.html">ActionController::TestResponse</a></li>
				
					<li><a href="../../ActionController/Testing.html">ActionController::Testing</a></li>
				
					<li><a href="../../ActionController/Testing/ClassMethods.html">ActionController::Testing::ClassMethods</a></li>
				
					<li><a href="../../ActionController/UrlFor.html">ActionController::UrlFor</a></li>
				
					<li><a href="../../ActionController/UrlFor/ClassMethods.html">ActionController::UrlFor::ClassMethods</a></li>
				
					<li><a href="../../ActionController/UrlRewriter.html">ActionController::UrlRewriter</a></li>
				
					<li><a href="../../ActionController/UrlWriter.html">ActionController::UrlWriter</a></li>
				
					<li><a href="../../ActionDispatch/Assertions.html">ActionDispatch::Assertions</a></li>
				
					<li><a href="../../ActionDispatch/Assertions/DomAssertions.html">ActionDispatch::Assertions::DomAssertions</a></li>
				
					<li><a href="../../ActionDispatch/Assertions/ResponseAssertions.html">ActionDispatch::Assertions::ResponseAssertions</a></li>
				
					<li><a href="../../ActionDispatch/Assertions/RoutingAssertions.html">ActionDispatch::Assertions::RoutingAssertions</a></li>
				
					<li><a href="../../ActionDispatch/Assertions/SelectorAssertions.html">ActionDispatch::Assertions::SelectorAssertions</a></li>
				
					<li><a href="../../ActionDispatch/Assertions/TagAssertions.html">ActionDispatch::Assertions::TagAssertions</a></li>
				
					<li><a href="../../ActionDispatch/BestStandardsSupport.html">ActionDispatch::BestStandardsSupport</a></li>
				
					<li><a href="../../ActionDispatch/Callbacks.html">ActionDispatch::Callbacks</a></li>
				
					<li><a href="../../ActionDispatch/Cookies.html">ActionDispatch::Cookies</a></li>
				
					<li><a href="../../ActionDispatch/Cookies/CookieOverflow.html">ActionDispatch::Cookies::CookieOverflow</a></li>
				
					<li><a href="../../ActionDispatch/Flash.html">ActionDispatch::Flash</a></li>
				
					<li><a href="../../ActionDispatch/Flash/FlashHash.html">ActionDispatch::Flash::FlashHash</a></li>
				
					<li><a href="../../ActionDispatch/Head.html">ActionDispatch::Head</a></li>
				
					<li><a href="../../ActionDispatch/Http.html">ActionDispatch::Http</a></li>
				
					<li><a href="../../ActionDispatch/Http/Cache.html">ActionDispatch::Http::Cache</a></li>
				
					<li><a href="../../ActionDispatch/Http/Cache/Request.html">ActionDispatch::Http::Cache::Request</a></li>
				
					<li><a href="../../ActionDispatch/Http/Cache/Response.html">ActionDispatch::Http::Cache::Response</a></li>
				
					<li><a href="../../ActionDispatch/Http/FilterParameters.html">ActionDispatch::Http::FilterParameters</a></li>
				
					<li><a href="../../ActionDispatch/Http/Headers.html">ActionDispatch::Http::Headers</a></li>
				
					<li><a href="../../ActionDispatch/Http/MimeNegotiation.html">ActionDispatch::Http::MimeNegotiation</a></li>
				
					<li><a href="../../ActionDispatch/Http/ParameterFilter.html">ActionDispatch::Http::ParameterFilter</a></li>
				
					<li><a href="../../ActionDispatch/Http/Parameters.html">ActionDispatch::Http::Parameters</a></li>
				
					<li><a href="../../ActionDispatch/Http/URL.html">ActionDispatch::Http::URL</a></li>
				
					<li><a href="../../ActionDispatch/Http/Upload.html">ActionDispatch::Http::Upload</a></li>
				
					<li><a href="../../ActionDispatch/Http/UploadedFile.html">ActionDispatch::Http::UploadedFile</a></li>
				
					<li><a href="../../ActionDispatch/Integration/RequestHelpers.html">ActionDispatch::Integration::RequestHelpers</a></li>
				
					<li><a href="../../ActionDispatch/Integration/Runner.html">ActionDispatch::Integration::Runner</a></li>
				
					<li><a href="../../ActionDispatch/Integration/Session.html">ActionDispatch::Integration::Session</a></li>
				
					<li><a href="../../ActionDispatch/IntegrationTest.html">ActionDispatch::IntegrationTest</a></li>
				
					<li><a href="../../ActionDispatch/MiddlewareStack.html">ActionDispatch::MiddlewareStack</a></li>
				
					<li><a href="../../ActionDispatch/MiddlewareStack/Middleware.html">ActionDispatch::MiddlewareStack::Middleware</a></li>
				
					<li><a href="../../ActionDispatch/ParamsParser.html">ActionDispatch::ParamsParser</a></li>
				
					<li><a href="../../ActionDispatch/PerformanceTest.html">ActionDispatch::PerformanceTest</a></li>
				
					<li><a href="../../ActionDispatch/Railtie.html">ActionDispatch::Railtie</a></li>
				
					<li><a href="../../ActionDispatch/RemoteIp.html">ActionDispatch::RemoteIp</a></li>
				
					<li><a href="../../ActionDispatch/RemoteIp/IpSpoofAttackError.html">ActionDispatch::RemoteIp::IpSpoofAttackError</a></li>
				
					<li><a href="../../ActionDispatch/RemoteIp/RemoteIpGetter.html">ActionDispatch::RemoteIp::RemoteIpGetter</a></li>
				
					<li><a href="../../ActionDispatch/Request.html">ActionDispatch::Request</a></li>
				
					<li><a href="../../ActionDispatch/Rescue.html">ActionDispatch::Rescue</a></li>
				
					<li><a href="../../ActionDispatch/Response.html">ActionDispatch::Response</a></li>
				
					<li><a href="../../ActionDispatch/Response/Setup.html">ActionDispatch::Response::Setup</a></li>
				
					<li><a href="../../ActionDispatch/Routing.html">ActionDispatch::Routing</a></li>
				
					<li><a href="../../ActionDispatch/Routing/Mapper.html">ActionDispatch::Routing::Mapper</a></li>
				
					<li><a href="../../ActionDispatch/Routing/Mapper/Base.html">ActionDispatch::Routing::Mapper::Base</a></li>
				
					<li><a href="../../ActionDispatch/Routing/Mapper/HttpHelpers.html">ActionDispatch::Routing::Mapper::HttpHelpers</a></li>
				
					<li><a href="../../ActionDispatch/Routing/Mapper/Resources.html">ActionDispatch::Routing::Mapper::Resources</a></li>
				
					<li><a href="../../ActionDispatch/Routing/Mapper/Scoping.html">ActionDispatch::Routing::Mapper::Scoping</a></li>
				
					<li><a href="../../ActionDispatch/Routing/Mapper/Shorthand.html">ActionDispatch::Routing::Mapper::Shorthand</a></li>
				
					<li><a href="../../ActionDispatch/Routing/PolymorphicRoutes.html">ActionDispatch::Routing::PolymorphicRoutes</a></li>
				
					<li><a href="../../ActionDispatch/Routing/UrlFor.html">ActionDispatch::Routing::UrlFor</a></li>
				
					<li><a href="../../ActionDispatch/Session.html">ActionDispatch::Session</a></li>
				
					<li><a href="../../ActionDispatch/Session/AbstractStore.html">ActionDispatch::Session::AbstractStore</a></li>
				
					<li><a href="../../ActionDispatch/Session/AbstractStore/OptionsHash.html">ActionDispatch::Session::AbstractStore::OptionsHash</a></li>
				
					<li><a href="../../ActionDispatch/Session/AbstractStore/SessionHash.html">ActionDispatch::Session::AbstractStore::SessionHash</a></li>
				
					<li><a href="../../ActionDispatch/Session/CookieStore.html">ActionDispatch::Session::CookieStore</a></li>
				
					<li><a href="../../ActionDispatch/Session/MemCacheStore.html">ActionDispatch::Session::MemCacheStore</a></li>
				
					<li><a href="../../ActionDispatch/ShowExceptions.html">ActionDispatch::ShowExceptions</a></li>
				
					<li><a href="../../ActionDispatch/Static.html">ActionDispatch::Static</a></li>
				
					<li><a href="../../ActionDispatch/TestProcess.html">ActionDispatch::TestProcess</a></li>
				
					<li><a href="../../ActionDispatch/TestRequest.html">ActionDispatch::TestRequest</a></li>
				
					<li><a href="../../ActionDispatch/TestResponse.html">ActionDispatch::TestResponse</a></li>
				
					<li><a href="../../ActionDispatch/TestResponse/DeprecatedHelpers.html">ActionDispatch::TestResponse::DeprecatedHelpers</a></li>
				
					<li><a href="../../ActionView/Base.html">ActionView::Base</a></li>
				
					<li><a href="../../ActionView/Context.html">ActionView::Context</a></li>
				
					<li><a href="../../ActionView/FileSystemResolver.html">ActionView::FileSystemResolver</a></li>
				
					<li><a href="../../ActionView/FixtureResolver.html">ActionView::FixtureResolver</a></li>
				
					<li><a href="../../ActionView/Helpers/ActiveModelFormBuilder.html">ActionView::Helpers::ActiveModelFormBuilder</a></li>
				
					<li><a href="../../ActionView/Helpers/ActiveModelHelper.html">ActionView::Helpers::ActiveModelHelper</a></li>
				
					<li><a href="../../ActionView/Helpers/ActiveModelInstanceTag.html">ActionView::Helpers::ActiveModelInstanceTag</a></li>
				
					<li><a href="../../ActionView/Helpers/AssetTagHelper.html">ActionView::Helpers::AssetTagHelper</a></li>
				
					<li><a href="../../ActionView/Helpers/AtomFeedHelper.html">ActionView::Helpers::AtomFeedHelper</a></li>
				
					<li><a href="../../ActionView/Helpers/AtomFeedHelper/AtomBuilder.html">ActionView::Helpers::AtomFeedHelper::AtomBuilder</a></li>
				
					<li><a href="../../ActionView/Helpers/AtomFeedHelper/AtomFeedBuilder.html">ActionView::Helpers::AtomFeedHelper::AtomFeedBuilder</a></li>
				
					<li><a href="../../ActionView/Helpers/CsrfHelper.html">ActionView::Helpers::CsrfHelper</a></li>
				
					<li><a href="../../ActionView/Helpers/DateHelper.html">ActionView::Helpers::DateHelper</a></li>
				
					<li><a href="../../ActionView/Helpers/DebugHelper.html">ActionView::Helpers::DebugHelper</a></li>
				
					<li><a href="../../ActionView/Helpers/FormHelper.html">ActionView::Helpers::FormHelper</a></li>
				
					<li><a href="../../ActionView/Helpers/FormOptionsHelper.html">ActionView::Helpers::FormOptionsHelper</a></li>
				
					<li><a href="../../ActionView/Helpers/FormTagHelper.html">ActionView::Helpers::FormTagHelper</a></li>
				
					<li><a href="../../ActionView/Helpers/InstanceTagMethods/ClassMethods.html">ActionView::Helpers::InstanceTagMethods::ClassMethods</a></li>
				
					<li><a href="../../ActionView/Helpers/JavaScriptHelper.html">ActionView::Helpers::JavaScriptHelper</a></li>
				
					<li><a href="../../ActionView/Helpers/NumberHelper.html">ActionView::Helpers::NumberHelper</a></li>
				
					<li><a href="../../ActionView/Helpers/NumberHelper/InvalidNumberError.html">ActionView::Helpers::NumberHelper::InvalidNumberError</a></li>
				
					<li><a href="../../ActionView/Helpers/PrototypeHelper.html">ActionView::Helpers::PrototypeHelper</a></li>
				
					<li><a href="../../ActionView/Helpers/PrototypeHelper/JavaScriptGenerator/GeneratorMethods.html">ActionView::Helpers::PrototypeHelper::JavaScriptGenerator::GeneratorMethods</a></li>
				
					<li><a href="../../ActionView/Helpers/RawOutputHelper.html">ActionView::Helpers::RawOutputHelper</a></li>
				
					<li><a href="../../ActionView/Helpers/SanitizeHelper.html">ActionView::Helpers::SanitizeHelper</a></li>
				
					<li><a href="../../ActionView/Helpers/ScriptaculousHelper.html">ActionView::Helpers::ScriptaculousHelper</a></li>
				
					<li><a href="../../ActionView/Helpers/TagHelper.html">ActionView::Helpers::TagHelper</a></li>
				
					<li><a href="../../ActionView/Helpers/TranslationHelper.html">ActionView::Helpers::TranslationHelper</a></li>
				
					<li><a href="../../ActionView/Helpers/UrlHelper.html">ActionView::Helpers::UrlHelper</a></li>
				
					<li><a href="../../ActionView/LogSubscriber.html">ActionView::LogSubscriber</a></li>
				
					<li><a href="../../ActionView/LookupContext/Details.html">ActionView::LookupContext::Details</a></li>
				
					<li><a href="../../ActionView/LookupContext/ViewPaths.html">ActionView::LookupContext::ViewPaths</a></li>
				
					<li><a href="../../ActionView/NullResolver.html">ActionView::NullResolver</a></li>
				
					<li><a href="../../ActionView/OutputBuffer.html">ActionView::OutputBuffer</a></li>
				
					<li><a href="../../ActionView/PathResolver.html">ActionView::PathResolver</a></li>
				
					<li><a href="../../ActionView/Railtie.html">ActionView::Railtie</a></li>
				
					<li><a href="../../ActionView/Rendering.html">ActionView::Rendering</a></li>
				
					<li><a href="../../ActionView/Resolver.html">ActionView::Resolver</a></li>
				
					<li><a href="../../ActionView/Template.html">ActionView::Template</a></li>
				
					<li><a href="../../ActionView/Template/Handler.html">ActionView::Template::Handler</a></li>
				
					<li><a href="../../ActionView/Template/Handlers/Builder.html">ActionView::Template::Handlers::Builder</a></li>
				
					<li><a href="../../ActionView/Template/Handlers/Compilable.html">ActionView::Template::Handlers::Compilable</a></li>
				
					<li><a href="../../ActionView/Template/Handlers/Compilable/ClassMethods.html">ActionView::Template::Handlers::Compilable::ClassMethods</a></li>
				
					<li><a href="../../ActionView/Template/Handlers/ERB.html">ActionView::Template::Handlers::ERB</a></li>
				
					<li><a href="../../ActionView/Template/Handlers/Erubis.html">ActionView::Template::Handlers::Erubis</a></li>
				
					<li><a href="../../ActionView/Template/Handlers/RJS.html">ActionView::Template::Handlers::RJS</a></li>
				
					<li><a href="../../ActionView/TestCase.html">ActionView::TestCase</a></li>
				
					<li><a href="../../ActionView/TestCase/Behavior.html">ActionView::TestCase::Behavior</a></li>
				
					<li><a href="../../ActionView/TestCase/Behavior/ClassMethods.html">ActionView::TestCase::Behavior::ClassMethods</a></li>
				
					<li><a href="../../ActionView/TestCase/Behavior/Locals.html">ActionView::TestCase::Behavior::Locals</a></li>
				
					<li><a href="../../ActionView/TestCase/TestController.html">ActionView::TestCase::TestController</a></li>
				
					<li><a href="../../AbstractController.html">AbstractController</a></li>
				
					<li><a href="../../AbstractController/ActionNotFound.html">AbstractController::ActionNotFound</a></li>
				
					<li><a href="../../AbstractController/ActionNotFound.html">AbstractController::ActionNotFound</a></li>
				
					<li><a href="../../AbstractController/AssetPaths.html">AbstractController::AssetPaths</a></li>
				
					<li><a href="../../AbstractController/Base.html">AbstractController::Base</a></li>
				
					<li><a href="../../AbstractController/Callbacks.html">AbstractController::Callbacks</a></li>
				
					<li><a href="../../AbstractController/Callbacks/ClassMethods.html">AbstractController::Callbacks::ClassMethods</a></li>
				
					<li><a href="../../AbstractController/Collector.html">AbstractController::Collector</a></li>
				
					<li><a href="../../AbstractController/DoubleRenderError.html">AbstractController::DoubleRenderError</a></li>
				
					<li><a href="../../AbstractController/DoubleRenderError.html">AbstractController::DoubleRenderError</a></li>
				
					<li><a href="../../AbstractController/Error.html">AbstractController::Error</a></li>
				
					<li><a href="../../AbstractController/Helpers.html">AbstractController::Helpers</a></li>
				
					<li><a href="../../AbstractController/Helpers/ClassMethods.html">AbstractController::Helpers::ClassMethods</a></li>
				
					<li><a href="../../AbstractController/Logger.html">AbstractController::Logger</a></li>
				
					<li><a href="../../AbstractController/Rendering.html">AbstractController::Rendering</a></li>
				
					<li><a href="../../AbstractController/Rendering/ClassMethods.html">AbstractController::Rendering::ClassMethods</a></li>
				
					<li><a href="../../AbstractController/Translation.html">AbstractController::Translation</a></li>
				
					<li><a href="../../AbstractController/ViewPaths.html">AbstractController::ViewPaths</a></li>
				
					<li><a href="../../AbstractController/ViewPaths/ClassMethods.html">AbstractController::ViewPaths::ClassMethods</a></li>
				
					<li><a href="../../HTML/FullSanitizer.html">HTML::FullSanitizer</a></li>
				
					<li><a href="../../HTML/LinkSanitizer.html">HTML::LinkSanitizer</a></li>
				
					<li><a href="../../HTML/Sanitizer.html">HTML::Sanitizer</a></li>
				
					<li><a href="../../HTML/Selector.html">HTML::Selector</a></li>
				
					<li><a href="../../HTML/WhiteListSanitizer.html">HTML::WhiteListSanitizer</a></li>
				
					<li><a href="../../Mime.html">Mime</a></li>
				
					<li><a href="../../Mime/Mimes.html">Mime::Mimes</a></li>
				
					<li><a href="../../Mime/Type.html">Mime::Type</a></li>
				
					<li><a href="../../ActionPack.html">ActionPack</a></li>
				
					<li><a href="../../Rack.html">Rack</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="module">ActionView::Helpers::AssetTagHelper</h1>

		<div id="description">
			<p>
This module provides methods for generating HTML that links views to assets
such as images, javascripts, stylesheets, and feeds. These methods do not
verify the assets exist before linking to them:
</p>
<pre>
  image_tag(&quot;rails.png&quot;)
  # =&gt; &lt;img alt=&quot;Rails&quot; src=&quot;/images/rails.png?1230601161&quot; /&gt;
  stylesheet_link_tag(&quot;application&quot;)
  # =&gt; &lt;link href=&quot;/stylesheets/application.css?1232285206&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
</pre>
<h3>Using asset hosts</h3>
<p>
By default, Rails links to these assets on the current host in the public
folder, but you can direct Rails to link to assets from a dedicated asset
server by setting ActionController::Base.asset_host in the application
configuration, typically in <tt>config/environments/production.rb</tt>. For
example, you&#8217;d define <tt>assets.example.com</tt> to be your asset
host this way:
</p>
<pre>
  ActionController::Base.asset_host = &quot;assets.example.com&quot;
</pre>
<p>
Helpers take that into account:
</p>
<pre>
  image_tag(&quot;rails.png&quot;)
  # =&gt; &lt;img alt=&quot;Rails&quot; src=&quot;http://assets.example.com/images/rails.png?1230601161&quot; /&gt;
  stylesheet_link_tag(&quot;application&quot;)
  # =&gt; &lt;link href=&quot;http://assets.example.com/stylesheets/application.css?1232285206&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
</pre>
<p>
Browsers typically open at most two simultaneous connections to a single
host, which means your assets often have to wait for other assets to finish
downloading. You can alleviate this by using a <tt>%d</tt> wildcard in the
<tt>asset_host</tt>. For example, &#8220;assets%d.example.com&#8220;. If
that wildcard is present Rails distributes asset requests among the
corresponding four hosts &#8220;assets0.example.com&#8220;, &#8230;,
&#8220;assets3.example.com&#8220;. With this trick browsers will open eight
simultaneous connections rather than two.
</p>
<pre>
  image_tag(&quot;rails.png&quot;)
  # =&gt; &lt;img alt=&quot;Rails&quot; src=&quot;http://assets0.example.com/images/rails.png?1230601161&quot; /&gt;
  stylesheet_link_tag(&quot;application&quot;)
  # =&gt; &lt;link href=&quot;http://assets2.example.com/stylesheets/application.css?1232285206&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
</pre>
<p>
To do this, you can either setup four actual hosts, or you can use wildcard
DNS to CNAME the wildcard to a single asset host. You can read more about
setting up your DNS CNAME records from your ISP.
</p>
<p>
Note: This is purely a browser performance optimization and is not meant
for server load balancing. See <a
href="http://www.die.net/musings/page_load_time/">www.die.net/musings/page_load_time/</a>
for background.
</p>
<p>
Alternatively, you can exert more control over the asset host by setting
<tt>asset_host</tt> to a proc like this:
</p>
<pre>
  ActionController::Base.asset_host = Proc.new { |source|
    &quot;http://assets#{source.hash % 2 + 1}.example.com&quot;
  }
  image_tag(&quot;rails.png&quot;)
  # =&gt; &lt;img alt=&quot;Rails&quot; src=&quot;http://assets1.example.com/images/rails.png?1230601161&quot; /&gt;
  stylesheet_link_tag(&quot;application&quot;)
  # =&gt; &lt;link href=&quot;http://assets2.example.com/stylesheets/application.css?1232285206&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
</pre>
<p>
The example above generates &#8220;<a
href="http://assets1.example.com">assets1.example.com</a>&#8220; and
&#8220;<a href="http://assets2.example.com">assets2.example.com</a>&#8220;.
This option is useful for example if you need fewer/more than four hosts,
custom host names, etc.
</p>
<p>
As you see the proc takes a <tt>source</tt> parameter. That&#8217;s a
string with the absolute path of the asset with any extensions and
timestamps in place, for example
&#8220;/images/rails.png?1230601161&#8221;.
</p>
<pre>
   ActionController::Base.asset_host = Proc.new { |source|
     if source.starts_with?('/images')
       &quot;http://images.example.com&quot;
     else
       &quot;http://assets.example.com&quot;
     end
   }
  image_tag(&quot;rails.png&quot;)
  # =&gt; &lt;img alt=&quot;Rails&quot; src=&quot;http://images.example.com/images/rails.png?1230601161&quot; /&gt;
  stylesheet_link_tag(&quot;application&quot;)
  # =&gt; &lt;link href=&quot;http://assets.example.com/stylesheets/application.css?1232285206&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
</pre>
<p>
Alternatively you may ask for a second parameter <tt>request</tt>. That one
is particularly useful for serving assets from an SSL-protected page. The
example proc below disables asset hosting for HTTPS connections, while
still sending assets for plain HTTP requests from asset hosts. If you
don&#8217;t have SSL certificates for each of the asset hosts this
technique allows you to avoid warnings in the client about mixed media.
</p>
<pre>
  ActionController::Base.asset_host = Proc.new { |source, request|
    if request.ssl?
      &quot;#{request.protocol}#{request.host_with_port}&quot;
    else
      &quot;#{request.protocol}assets.example.com&quot;
    end
  }
</pre>
<p>
You can also implement a custom asset host object that responds to
<tt>call</tt> and takes either one or two parameters just like the proc.
</p>
<pre>
  config.action_controller.asset_host = AssetHostingWithMinimumSsl.new(
    &quot;http://asset%d.example.com&quot;, &quot;https://asset1.example.com&quot;
  )
</pre>
<h3>Customizing the asset path</h3>
<p>
By default, Rails appends asset&#8217;s timestamps to all asset paths. This
allows you to set a cache-expiration date for the asset far into the
future, but still be able to instantly invalidate it by simply updating the
file (and hence updating the timestamp, which then updates the URL as the
timestamp is part of that, which in turn busts the cache).
</p>
<p>
It&#8217;s the responsibility of the web server you use to set the
far-future expiration date on cache assets that you need to take advantage
of this feature. Here&#8217;s an example for Apache:
</p>
<pre>
  # Asset Expiration
  ExpiresActive On
  &lt;FilesMatch &quot;\.(ico|gif|jpe?g|png|js|css)$&quot;&gt;
    ExpiresDefault &quot;access plus 1 year&quot;
  &lt;/FilesMatch&gt;
</pre>
<p>
Also note that in order for this to work, all your application servers must
return the same timestamps. This means that they must have their clocks
synchronized. If one of them drifts out of sync, you&#8217;ll see different
timestamps at random and the cache won&#8217;t work. In that case the
browser will request the same assets over and over again even thought they
didn&#8217;t change. You can use something like Live HTTP Headers for
Firefox to verify that the cache is indeed working.
</p>
<p>
This strategy works well enough for most server setups and requires the
least configuration, but if you deploy several application servers at
different times - say to handle a temporary spike in load - then the asset
time stamps will be out of sync. In a setup like this you may want to set
the way that asset paths are generated yourself.
</p>
<p>
Altering the asset paths that Rails generates can be done in two ways. The
easiest is to define the RAILS_ASSET_ID environment variable. The contents
of this variable will always be used in preference to calculated
timestamps. A more complex but flexible way is to set
<tt>ActionController::Base.config.asset_path</tt> to a proc that takes the
unmodified asset path and returns the path needed for your asset caching to
work. Typically you&#8217;d do something like this in
<tt>config/environments/production.rb</tt>:
</p>
<pre>
  # Normally you'd calculate RELEASE_NUMBER at startup.
  RELEASE_NUMBER = 12345
  config.action_controller.asset_path_template = proc { |asset_path|
    &quot;/release-#{RELEASE_NUMBER}#{asset_path}&quot;
  }
</pre>
<p>
This example would cause the following behaviour on all servers no matter
when they were deployed:
</p>
<pre>
  image_tag(&quot;rails.png&quot;)
  # =&gt; &lt;img alt=&quot;Rails&quot; src=&quot;/release-12345/images/rails.png&quot; /&gt;
  stylesheet_link_tag(&quot;application&quot;)
  # =&gt; &lt;link href=&quot;/release-12345/stylesheets/application.css?1232285206&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
</pre>
<p>
Changing the asset_path does require that your web servers have knowledge
of the asset template paths that you rewrite to so it&#8217;s not suitable
for out-of-the-box use. To use the example given above you could use
something like this in your Apache VirtualHost configuration:
</p>
<pre>
  &lt;LocationMatch &quot;^/release-\d+/(images|javascripts|stylesheets)/.*$&quot;&gt;
    # Some browsers still send conditional-GET requests if there's a
    # Last-Modified header or an ETag header even if they haven't
    # reached the expiry date sent in the Expires header.
    Header unset Last-Modified
    Header unset ETag
    FileETag None

    # Assets requested using a cache-busting filename should be served
    # only once and then cached for a really long time. The HTTP/1.1
    # spec frowns on hugely-long expiration times though and suggests
    # that assets which never expire be served with an expiration date
    # 1 year from access.
    ExpiresActive On
    ExpiresDefault &quot;access plus 1 year&quot;
  &lt;/LocationMatch&gt;

  # We use cached-busting location names with the far-future expires
  # headers to ensure that if a file does change it can force a new
  # request. The actual asset filenames are still the same though so we
  # need to rewrite the location from the cache-busting location to the
  # real asset location so that we can serve it.
  RewriteEngine On
  RewriteRule ^/release-\d+/(images|javascripts|stylesheets)/(.*)$ /$1/$2 [L]</pre>

		</div>

		<!-- Constants -->
		

		<!-- Attributes -->
		

		<!-- Methods -->
		
		<div id="public-class-method-details" class="method-section section">
			<h3 class="section-header">Public Class Methods</h3>

		
			<div id="register-javascript-expansion-method" class="method-detail ">
				<a name="method-c-register_javascript_expansion"></a>

				<div class="method-heading">
				
					<span class="method-name">register_javascript_expansion</span><span
						class="method-args">(expansions)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Register one or more javascript files to be included when <tt>symbol</tt>
is passed to <tt><a
href="AssetTagHelper.html#method-i-javascript_include_tag">javascript_include_tag</a></tt>.
This method is typically intended to be called from plugin initialization
to register javascript files that the plugin installed in
<tt>public/javascripts</tt>.
</p>
<pre>
  ActionView::Helpers::AssetTagHelper.register_javascript_expansion :monkey =&gt; [&quot;head&quot;, &quot;body&quot;, &quot;tail&quot;]

  javascript_include_tag :monkey # =&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/head.js&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/body.js&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/tail.js&quot;&gt;&lt;/script&gt;</pre>
					

					
					<div class="method-source-code"
						id="register-javascript-expansion-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 377</span>
377:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">register_javascript_expansion</span>(<span class="ruby-identifier">expansions</span>)
378:         <span class="ruby-identifier">@@javascript_expansions</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">expansions</span>)
379:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="register-javascript-include-default-method" class="method-detail ">
				<a name="method-c-register_javascript_include_default"></a>

				<div class="method-heading">
				
					<span class="method-name">register_javascript_include_default</span><span
						class="method-args">(*args)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="register-javascript-include-default-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 402</span>
402:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">register_javascript_include_default</span>(*<span class="ruby-identifier">args</span>)
403:         <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span> <span class="ruby-value str">&quot;register_javascript_include_default is deprecated. Please &quot;</span>            <span class="ruby-value str">&quot;manipulate config.action_view.javascript_expansions[:defaults] directly&quot;</span>, <span class="ruby-identifier">caller</span>
404:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">javascript_expansions</span>[<span class="ruby-value">:defaults</span>].<span class="ruby-identifier">concat</span> <span class="ruby-identifier">args</span>
405:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="register-stylesheet-expansion-method" class="method-detail ">
				<a name="method-c-register_stylesheet_expansion"></a>

				<div class="method-heading">
				
					<span class="method-name">register_stylesheet_expansion</span><span
						class="method-args">(expansions)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Register one or more stylesheet files to be included when <tt>symbol</tt>
is passed to <tt><a
href="AssetTagHelper.html#method-i-stylesheet_link_tag">stylesheet_link_tag</a></tt>.
This method is typically intended to be called from plugin initialization
to register stylesheet files that the plugin installed in
<tt>public/stylesheets</tt>.
</p>
<pre>
  ActionView::Helpers::AssetTagHelper.register_stylesheet_expansion :monkey =&gt; [&quot;head&quot;, &quot;body&quot;, &quot;tail&quot;]

  stylesheet_link_tag :monkey # =&gt;
    &lt;link href=&quot;/stylesheets/head.css&quot;  media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
    &lt;link href=&quot;/stylesheets/body.css&quot;  media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
    &lt;link href=&quot;/stylesheets/tail.css&quot;  media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;</pre>
					

					
					<div class="method-source-code"
						id="register-stylesheet-expansion-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 392</span>
392:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">register_stylesheet_expansion</span>(<span class="ruby-identifier">expansions</span>)
393:         <span class="ruby-identifier">@@stylesheet_expansions</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">expansions</span>)
394:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="reset-javascript-include-default-method" class="method-detail ">
				<a name="method-c-reset_javascript_include_default"></a>

				<div class="method-heading">
				
					<span class="method-name">reset_javascript_include_default</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="reset-javascript-include-default-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 396</span>
396:       <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">reset_javascript_include_default</span>
397:         <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span> <span class="ruby-value str">&quot;reset_javascript_include_default is deprecated. Please manipulate &quot;</span>            <span class="ruby-value str">&quot;config.action_view.javascript_expansions[:defaults] directly&quot;</span>, <span class="ruby-identifier">caller</span>
398:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">javascript_expansions</span>[<span class="ruby-value">:defaults</span>] = [<span class="ruby-value str">'prototype'</span>, <span class="ruby-value str">'effects'</span>, <span class="ruby-value str">'dragdrop'</span>, <span class="ruby-value str">'controls'</span>, <span class="ruby-value str">'rails'</span>]
399:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="audio-path-method" class="method-detail ">
				<a name="method-i-audio_path"></a>

				<div class="method-heading">
				
					<span class="method-name">audio_path</span><span
						class="method-args">(source)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Computes the path to an audio asset in the public audios directory. Full
paths from the document root will be passed through. Used internally by
<tt><a href="AssetTagHelper.html#method-i-audio_tag">audio_tag</a></tt> to
build the audio path.
</p>
<h4>Examples</h4>
<pre>
  audio_path(&quot;horse&quot;)                                            # =&gt; /audios/horse
  audio_path(&quot;horse.wav&quot;)                                        # =&gt; /audios/horse.avi
  audio_path(&quot;sounds/horse.wav&quot;)                                 # =&gt; /audios/sounds/horse.avi
  audio_path(&quot;/sounds/horse.wav&quot;)                                # =&gt; /sounds/horse.avi
  audio_path(&quot;http://www.railsapplication.com/sounds/horse.wav&quot;) # =&gt; http://www.railsapplication.com/sounds/horse.wav</pre>
					

					
					<div class="method-source-code"
						id="audio-path-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 590</span>
590:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">audio_path</span>(<span class="ruby-identifier">source</span>)
591:         <span class="ruby-identifier">compute_public_path</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value str">'audios'</span>)
592:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
				<div class="aliases">
					Also aliased as: <a href="AssetTagHelper.html#method-i-path_to_audio">path_to_audio</a>
				</div>
				

				
			</div>

		
			<div id="audio-tag-method" class="method-detail ">
				<a name="method-i-audio_tag"></a>

				<div class="method-heading">
				
					<span class="method-name">audio_tag</span><span
						class="method-args">(source, options = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns an html audio tag for the <tt>source</tt>. The <tt>source</tt> can
be full path or file that exists in your public audios directory.
</p>
<h4>Examples</h4>
<pre>
 audio_tag(&quot;sound&quot;)  # =&gt;
   &lt;audio src=&quot;/audios/sound&quot; /&gt;
 audio_tag(&quot;sound.wav&quot;)  # =&gt;
   &lt;audio src=&quot;/audios/sound.wav&quot; /&gt;
 audio_tag(&quot;sound.wav&quot;, :autoplay =&gt; true, :controls =&gt; true)  # =&gt;
   &lt;audio autoplay=&quot;autoplay&quot; controls=&quot;controls&quot; src=&quot;/audios/sound.wav&quot; /&gt;</pre>
					

					
					<div class="method-source-code"
						id="audio-tag-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 712</span>
712:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">audio_tag</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">options</span> = {})
713:         <span class="ruby-identifier">options</span>.<span class="ruby-identifier">symbolize_keys!</span>
714:         <span class="ruby-identifier">options</span>[<span class="ruby-value">:src</span>] = <span class="ruby-identifier">path_to_audio</span>(<span class="ruby-identifier">source</span>)
715:         <span class="ruby-identifier">tag</span>(<span class="ruby-value str">&quot;audio&quot;</span>, <span class="ruby-identifier">options</span>)
716:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="auto-discovery-link-tag-method" class="method-detail ">
				<a name="method-i-auto_discovery_link_tag"></a>

				<div class="method-heading">
				
					<span class="method-name">auto_discovery_link_tag</span><span
						class="method-args">(type = :rss, url_options = {}, tag_options = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns a link tag that browsers and news readers can use to auto-detect an
RSS or ATOM feed. The <tt>type</tt> can either be <tt>:rss</tt> (default)
or <tt>:atom</tt>. Control the link options in url_for format using the
<tt>url_options</tt>. You can modify the LINK tag itself in
<tt>tag_options</tt>.
</p>
<h4>Options</h4>
<ul>
<li><p>
<tt>:rel</tt>  - Specify the relation of this link, defaults to
&#8220;alternate&#8220;
</p>
</li>
<li><p>
<tt>:type</tt>  - Override the auto-generated mime type
</p>
</li>
<li><p>
<tt>:title</tt>  - Specify the title of the link, defaults to the
<tt>type</tt>
</p>
</li>
</ul>
<h4>Examples</h4>
<pre>
 auto_discovery_link_tag # =&gt;
    &lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot; title=&quot;RSS&quot; href=&quot;http://www.currenthost.com/controller/action&quot; /&gt;
 auto_discovery_link_tag(:atom) # =&gt;
    &lt;link rel=&quot;alternate&quot; type=&quot;application/atom+xml&quot; title=&quot;ATOM&quot; href=&quot;http://www.currenthost.com/controller/action&quot; /&gt;
 auto_discovery_link_tag(:rss, {:action =&gt; &quot;feed&quot;}) # =&gt;
    &lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot; title=&quot;RSS&quot; href=&quot;http://www.currenthost.com/controller/feed&quot; /&gt;
 auto_discovery_link_tag(:rss, {:action =&gt; &quot;feed&quot;}, {:title =&gt; &quot;My RSS&quot;}) # =&gt;
    &lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot; title=&quot;My RSS&quot; href=&quot;http://www.currenthost.com/controller/feed&quot; /&gt;
 auto_discovery_link_tag(:rss, {:controller =&gt; &quot;news&quot;, :action =&gt; &quot;feed&quot;}) # =&gt;
    &lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot; title=&quot;RSS&quot; href=&quot;http://www.currenthost.com/news/feed&quot; /&gt;
 auto_discovery_link_tag(:rss, &quot;http://www.example.com/feed.rss&quot;, {:title =&gt; &quot;Example RSS&quot;}) # =&gt;
    &lt;link rel=&quot;alternate&quot; type=&quot;application/rss+xml&quot; title=&quot;Example RSS&quot; href=&quot;http://www.example.com/feed&quot; /&gt;</pre>
					

					
					<div class="method-source-code"
						id="auto-discovery-link-tag-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 234</span>
234:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">auto_discovery_link_tag</span>(<span class="ruby-identifier">type</span> = <span class="ruby-value">:rss</span>, <span class="ruby-identifier">url_options</span> = {}, <span class="ruby-identifier">tag_options</span> = {})
235:         <span class="ruby-identifier">tag</span>(
236:           <span class="ruby-value str">&quot;link&quot;</span>,
237:           <span class="ruby-value str">&quot;rel&quot;</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">tag_options</span>[<span class="ruby-value">:rel</span>] <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;alternate&quot;</span>,
238:           <span class="ruby-value str">&quot;type&quot;</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">tag_options</span>[<span class="ruby-value">:type</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">Type</span>.<span class="ruby-identifier">lookup_by_extension</span>(<span class="ruby-identifier">type</span>.<span class="ruby-identifier">to_s</span>).<span class="ruby-identifier">to_s</span>,
239:           <span class="ruby-value str">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">tag_options</span>[<span class="ruby-value">:title</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">type</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span>,
240:           <span class="ruby-value str">&quot;href&quot;</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">url_options</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">url_options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:only_path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>)) <span class="ruby-operator">:</span> <span class="ruby-identifier">url_options</span>
241:         )
242:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="favicon-link-tag-method" class="method-detail ">
				<a name="method-i-favicon_link_tag"></a>

				<div class="method-heading">
				
					<span class="method-name">favicon_link_tag</span><span
						class="method-args">(source='/favicon.ico', options={})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Web browsers cache favicons. If you just throw a <tt>favicon.ico</tt> into
the document root of your application and it changes later, clients that
have it in their cache won&#8217;t see the update. Using this helper
prevents that because it appends an asset ID:
</p>
<pre>
  &lt;%= favicon_link_tag %&gt;
</pre>
<p>
generates
</p>
<pre>
  &lt;link href=&quot;/favicon.ico?4649789979&quot; rel=&quot;shortcut icon&quot; type=&quot;image/vnd.microsoft.icon&quot; /&gt;
</pre>
<p>
You may specify a different file in the first argument:
</p>
<pre>
  &lt;%= favicon_link_tag 'favicon.ico' %&gt;
</pre>
<p>
That&#8217;s passed to <tt><a
href="AssetTagHelper.html#method-i-path_to_image">path_to_image</a></tt> as
is, so it gives
</p>
<pre>
  &lt;link href=&quot;/images/favicon.ico?4649789979&quot; rel=&quot;shortcut icon&quot; type=&quot;image/vnd.microsoft.icon&quot; /&gt;
</pre>
<p>
The helper accepts an additional options hash where you can override
&#8220;rel&#8221; and &#8220;type&#8221;.
</p>
<p>
For example, Mobile Safari looks for a different LINK tag, pointing to an
image that will be used if you add the page to the home screen of an iPod
Touch, iPhone, or iPad. The following call would generate such a tag:
</p>
<pre>
  &lt;%= favicon_link_tag 'mb-icon.png', :rel =&gt; 'apple-touch-icon', :type =&gt; 'image/png' %&gt;</pre>
					

					
					<div class="method-source-code"
						id="favicon-link-tag-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 539</span>
539:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">favicon_link_tag</span>(<span class="ruby-identifier">source</span>=<span class="ruby-value str">'/favicon.ico'</span>, <span class="ruby-identifier">options</span>={})
540:         <span class="ruby-identifier">tag</span>(<span class="ruby-value str">'link'</span>, {
541:           <span class="ruby-value">:rel</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'shortcut icon'</span>,
542:           <span class="ruby-value">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'image/vnd.microsoft.icon'</span>,
543:           <span class="ruby-value">:href</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">path_to_image</span>(<span class="ruby-identifier">source</span>)
544:         }.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">symbolize_keys</span>))
545:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="image-path-method" class="method-detail ">
				<a name="method-i-image_path"></a>

				<div class="method-heading">
				
					<span class="method-name">image_path</span><span
						class="method-args">(source)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Computes the path to an image asset in the public images directory. Full
paths from the document root will be passed through. Used internally by
<tt><a href="AssetTagHelper.html#method-i-image_tag">image_tag</a></tt> to
build the image path:
</p>
<pre>
  image_path(&quot;edit&quot;)                                         # =&gt; &quot;/images/edit&quot;
  image_path(&quot;edit.png&quot;)                                     # =&gt; &quot;/images/edit.png&quot;
  image_path(&quot;icons/edit.png&quot;)                               # =&gt; &quot;/images/icons/edit.png&quot;
  image_path(&quot;/icons/edit.png&quot;)                              # =&gt; &quot;/icons/edit.png&quot;
  image_path(&quot;http://www.railsapplication.com/img/edit.png&quot;) # =&gt; &quot;http://www.railsapplication.com/img/edit.png&quot;
</pre>
<p>
If you have images as application resources this method may conflict with
their named routes. The alias <tt><a
href="AssetTagHelper.html#method-i-path_to_image">path_to_image</a></tt> is
provided to avoid that. Rails uses the alias internally, and plugin authors
are encouraged to do so.
</p>
					

					
					<div class="method-source-code"
						id="image-path-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 560</span>
560:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">image_path</span>(<span class="ruby-identifier">source</span>)
561:         <span class="ruby-identifier">compute_public_path</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value str">'images'</span>)
562:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
				<div class="aliases">
					Also aliased as: <a href="AssetTagHelper.html#method-i-path_to_image">path_to_image</a>
				</div>
				

				
			</div>

		
			<div id="image-tag-method" class="method-detail ">
				<a name="method-i-image_tag"></a>

				<div class="method-heading">
				
					<span class="method-name">image_tag</span><span
						class="method-args">(source, options = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns an html image tag for the <tt>source</tt>. The <tt>source</tt> can
be a full path or a file that exists in your public images directory.
</p>
<h4>Options</h4>
<p>
You can add HTML attributes using the <tt>options</tt>. The
<tt>options</tt> supports three additional keys for convenience and
conformance:
</p>
<ul>
<li><p>
<tt>:alt</tt>  - If no alt text is given, the file name part of the
<tt>source</tt> is used (capitalized and without the extension)
</p>
</li>
<li><p>
<tt>:size</tt> - Supplied as &#8220;{Width}x{Height}&#8221;, so
&#8220;30x45&#8221; becomes width=&#8220;30&#8221; and
height=&#8220;45&#8221;. <tt>:size</tt> will be ignored if the value is not
in the correct format.
</p>
</li>
<li><p>
<tt>:mouseover</tt> - Set an alternate image to be used when the
onmouseover event is fired, and sets the original image to be replaced
onmouseout. This can be used to implement an easy image toggle that fires
on onmouseover.
</p>
</li>
</ul>
<h4>Examples</h4>
<pre>
 image_tag(&quot;icon&quot;)  # =&gt;
   &lt;img src=&quot;/images/icon&quot; alt=&quot;Icon&quot; /&gt;
 image_tag(&quot;icon.png&quot;)  # =&gt;
   &lt;img src=&quot;/images/icon.png&quot; alt=&quot;Icon&quot; /&gt;
 image_tag(&quot;icon.png&quot;, :size =&gt; &quot;16x10&quot;, :alt =&gt; &quot;Edit Entry&quot;)  # =&gt;
   &lt;img src=&quot;/images/icon.png&quot; width=&quot;16&quot; height=&quot;10&quot; alt=&quot;Edit Entry&quot; /&gt;
 image_tag(&quot;/icons/icon.gif&quot;, :size =&gt; &quot;16x16&quot;)  # =&gt;
   &lt;img src=&quot;/icons/icon.gif&quot; width=&quot;16&quot; height=&quot;16&quot; alt=&quot;Icon&quot; /&gt;
 image_tag(&quot;/icons/icon.gif&quot;, :height =&gt; '32', :width =&gt; '32') # =&gt;
   &lt;img alt=&quot;Icon&quot; height=&quot;32&quot; src=&quot;/icons/icon.gif&quot; width=&quot;32&quot; /&gt;
 image_tag(&quot;/icons/icon.gif&quot;, :class =&gt; &quot;menu_icon&quot;) # =&gt;
   &lt;img alt=&quot;Icon&quot; class=&quot;menu_icon&quot; src=&quot;/icons/icon.gif&quot; /&gt;
 image_tag(&quot;mouse.png&quot;, :mouseover =&gt; &quot;/images/mouse_over.png&quot;) # =&gt;
   &lt;img src=&quot;/images/mouse.png&quot; onmouseover=&quot;this.src='/images/mouse_over.png'&quot; onmouseout=&quot;this.src='/images/mouse.png'&quot; alt=&quot;Mouse&quot; /&gt;
 image_tag(&quot;mouse.png&quot;, :mouseover =&gt; image_path(&quot;mouse_over.png&quot;)) # =&gt;
   &lt;img src=&quot;/images/mouse.png&quot; onmouseover=&quot;this.src='/images/mouse_over.png'&quot; onmouseout=&quot;this.src='/images/mouse.png'&quot; alt=&quot;Mouse&quot; /&gt;</pre>
					

					
					<div class="method-source-code"
						id="image-tag-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 628</span>
628:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">image_tag</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">options</span> = {})
629:         <span class="ruby-identifier">options</span>.<span class="ruby-identifier">symbolize_keys!</span>
630: 
631:         <span class="ruby-identifier">src</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:src</span>] = <span class="ruby-identifier">path_to_image</span>(<span class="ruby-identifier">source</span>)
632: 
633:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">src</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^cid:/</span>
634:           <span class="ruby-identifier">options</span>[<span class="ruby-value">:alt</span>] = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:alt</span>){ <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">src</span>, <span class="ruby-value str">'.*'</span>).<span class="ruby-identifier">capitalize</span> }
635:         <span class="ruby-keyword kw">end</span>
636: 
637:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">size</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:size</span>)
638:           <span class="ruby-identifier">options</span>[<span class="ruby-value">:width</span>], <span class="ruby-identifier">options</span>[<span class="ruby-value">:height</span>] = <span class="ruby-identifier">size</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;x&quot;</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">%{^\d+x\d+$}</span>
639:         <span class="ruby-keyword kw">end</span>
640: 
641:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mouseover</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:mouseover</span>)
642:           <span class="ruby-identifier">options</span>[<span class="ruby-value">:onmouseover</span>] = <span class="ruby-node">&quot;this.src='#{path_to_image(mouseover)}'&quot;</span>
643:           <span class="ruby-identifier">options</span>[<span class="ruby-value">:onmouseout</span>]  = <span class="ruby-node">&quot;this.src='#{src}'&quot;</span>
644:         <span class="ruby-keyword kw">end</span>
645: 
646:         <span class="ruby-identifier">tag</span>(<span class="ruby-value str">&quot;img&quot;</span>, <span class="ruby-identifier">options</span>)
647:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="javascript-include-tag-method" class="method-detail ">
				<a name="method-i-javascript_include_tag"></a>

				<div class="method-heading">
				
					<span class="method-name">javascript_include_tag</span><span
						class="method-args">(*sources)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns an html script tag for each of the <tt>sources</tt> provided. You
can pass in the filename (.js extension is optional) of javascript files
that exist in your public/javascripts directory for inclusion into the
current page or you can pass the full path relative to your document root.
To include the Prototype and Scriptaculous javascript libraries in your
application, pass <tt>:defaults</tt> as the source. When using
<tt>:defaults</tt>, if an application.js file exists in your public
javascripts directory, it will be included as well. You can modify the html
attributes of the script tag by passing a hash as the last argument.
</p>
<h4>Examples</h4>
<pre>
  javascript_include_tag &quot;xmlhr&quot; # =&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/xmlhr.js&quot;&gt;&lt;/script&gt;

  javascript_include_tag &quot;xmlhr.js&quot; # =&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/xmlhr.js&quot;&gt;&lt;/script&gt;

  javascript_include_tag &quot;common.javascript&quot;, &quot;/elsewhere/cools&quot; # =&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/common.javascript&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/elsewhere/cools.js&quot;&gt;&lt;/script&gt;

  javascript_include_tag &quot;http://www.railsapplication.com/xmlhr&quot; # =&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;http://www.railsapplication.com/xmlhr.js&quot;&gt;&lt;/script&gt;

  javascript_include_tag &quot;http://www.railsapplication.com/xmlhr.js&quot; # =&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;http://www.railsapplication.com/xmlhr.js&quot;&gt;&lt;/script&gt;

  javascript_include_tag :defaults # =&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/prototype.js&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/effects.js&quot;&gt;&lt;/script&gt;
    ...
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/application.js&quot;&gt;&lt;/script&gt;
</pre>
<ul>
<li><h1>The application.js file is only referenced if it exists</h1>
</li>
</ul>
<p>
Though it&#8217;s not really recommended practice, if you need to extend
the default JavaScript set for any reason (e.g., you&#8217;re going to be
using a certain .js file in every action), then take a look at the <a
href="AssetTagHelper.html#method-c-register_javascript_include_default">register_javascript_include_default</a>
method.
</p>
<p>
You can also include all javascripts in the javascripts directory using
<tt>:all</tt> as the source:
</p>
<pre>
  javascript_include_tag :all # =&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/prototype.js&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/effects.js&quot;&gt;&lt;/script&gt;
    ...
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/application.js&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/shop.js&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/checkout.js&quot;&gt;&lt;/script&gt;
</pre>
<p>
Note that the default javascript files will be included first. So Prototype
and Scriptaculous are available to all subsequently included files.
</p>
<p>
If you want Rails to search in all the subdirectories under javascripts,
you should explicitly set <tt>:recursive</tt>:
</p>
<pre>
  javascript_include_tag :all, :recursive =&gt; true
</pre>
<h2>Caching multiple javascripts into one</h2>
<p>
You can also cache multiple javascripts into one file, which requires less
HTTP connections to download and can better be compressed by gzip (leading
to faster transfers). Caching will only happen if config.perform_caching is
set to <tt>true</tt> (which is the case by default for the Rails production
environment, but not for the development environment).
</p>
<h4>Examples</h4>
<pre>
  javascript_include_tag :all, :cache =&gt; true # when config.perform_caching is false =&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/prototype.js&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/effects.js&quot;&gt;&lt;/script&gt;
    ...
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/application.js&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/shop.js&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/checkout.js&quot;&gt;&lt;/script&gt;

  javascript_include_tag :all, :cache =&gt; true # when config.perform_caching is true =&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/all.js&quot;&gt;&lt;/script&gt;

  javascript_include_tag &quot;prototype&quot;, &quot;cart&quot;, &quot;checkout&quot;, :cache =&gt; &quot;shop&quot; # when config.perform_caching is false =&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/prototype.js&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/cart.js&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/checkout.js&quot;&gt;&lt;/script&gt;

  javascript_include_tag &quot;prototype&quot;, &quot;cart&quot;, &quot;checkout&quot;, :cache =&gt; &quot;shop&quot; # when config.perform_caching is true =&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/javascripts/shop.js&quot;&gt;&lt;/script&gt;
</pre>
<p>
The <tt>:recursive</tt> option is also available for caching:
</p>
<pre>
  javascript_include_tag :all, :cache =&gt; true, :recursive =&gt; true</pre>
					

					
					<div class="method-source-code"
						id="javascript-include-tag-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 345</span>
345:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">javascript_include_tag</span>(*<span class="ruby-identifier">sources</span>)
346:         <span class="ruby-identifier">options</span> = <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">extract_options!</span>.<span class="ruby-identifier">stringify_keys</span>
347:         <span class="ruby-identifier">concat</span>  = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;concat&quot;</span>)
348:         <span class="ruby-identifier">cache</span>   = <span class="ruby-identifier">concat</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;cache&quot;</span>)
349:         <span class="ruby-identifier">recursive</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;recursive&quot;</span>)
350: 
351:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">concat</span> <span class="ruby-operator">||</span> (<span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">cache</span>)
352:           <span class="ruby-identifier">joined_javascript_name</span> = (<span class="ruby-identifier">cache</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span> <span class="ruby-operator">?</span> <span class="ruby-value str">&quot;all&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">cache</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;.js&quot;</span>
353:           <span class="ruby-identifier">joined_javascript_path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">joined_javascript_name</span>[<span class="ruby-node">/^#{File::SEPARATOR}/</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">assets_dir</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">javascripts_dir</span>, <span class="ruby-identifier">joined_javascript_name</span>)
354: 
355:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">joined_javascript_path</span>)
356:             <span class="ruby-identifier">write_asset_file_contents</span>(<span class="ruby-identifier">joined_javascript_path</span>, <span class="ruby-identifier">compute_javascript_paths</span>(<span class="ruby-identifier">sources</span>, <span class="ruby-identifier">recursive</span>))
357:           <span class="ruby-keyword kw">end</span>
358:           <span class="ruby-identifier">javascript_src_tag</span>(<span class="ruby-identifier">joined_javascript_name</span>, <span class="ruby-identifier">options</span>)
359:         <span class="ruby-keyword kw">else</span>
360:           <span class="ruby-identifier">sources</span> = <span class="ruby-identifier">expand_javascript_sources</span>(<span class="ruby-identifier">sources</span>, <span class="ruby-identifier">recursive</span>)
361:           <span class="ruby-identifier">ensure_javascript_sources!</span>(<span class="ruby-identifier">sources</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">cache</span>
362:           <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">source</span><span class="ruby-operator">|</span> <span class="ruby-identifier">javascript_src_tag</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">options</span>) }.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>).<span class="ruby-identifier">html_safe</span>
363:         <span class="ruby-keyword kw">end</span>
364:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="javascript-path-method" class="method-detail ">
				<a name="method-i-javascript_path"></a>

				<div class="method-heading">
				
					<span class="method-name">javascript_path</span><span
						class="method-args">(source)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Computes the path to a javascript asset in the public javascripts
directory. If the <tt>source</tt> filename has no extension, .js will be
appended (except for explicit URIs) Full paths from the document root will
be passed through. Used internally by <a
href="AssetTagHelper.html#method-i-javascript_include_tag">javascript_include_tag</a>
to build the script path.
</p>
<h4>Examples</h4>
<pre>
  javascript_path &quot;xmlhr&quot; # =&gt; /javascripts/xmlhr.js
  javascript_path &quot;dir/xmlhr.js&quot; # =&gt; /javascripts/dir/xmlhr.js
  javascript_path &quot;/dir/xmlhr&quot; # =&gt; /dir/xmlhr.js
  javascript_path &quot;http://www.railsapplication.com/js/xmlhr&quot; # =&gt; http://www.railsapplication.com/js/xmlhr
  javascript_path &quot;http://www.railsapplication.com/js/xmlhr.js&quot; # =&gt; http://www.railsapplication.com/js/xmlhr.js</pre>
					

					
					<div class="method-source-code"
						id="javascript-path-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 255</span>
255:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">javascript_path</span>(<span class="ruby-identifier">source</span>)
256:         <span class="ruby-identifier">compute_public_path</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value str">'javascripts'</span>, <span class="ruby-value str">'js'</span>)
257:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
				<div class="aliases">
					Also aliased as: <a href="AssetTagHelper.html#method-i-path_to_javascript">path_to_javascript</a>
				</div>
				

				
			</div>

		
			<div id="path-to-audio-method" class="method-detail method-alias">
				<a name="method-i-path_to_audio"></a>

				<div class="method-heading">
				
					<span class="method-name">path_to_audio</span><span
						class="method-args">(source)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
				</div>

				

				
				<div class="aliases">
          Alias for: <a href="AssetTagHelper.html#method-i-audio_path">audio_path</a>
				</div>
				
			</div>

		
			<div id="path-to-image-method" class="method-detail method-alias">
				<a name="method-i-path_to_image"></a>

				<div class="method-heading">
				
					<span class="method-name">path_to_image</span><span
						class="method-args">(source)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
				</div>

				

				
				<div class="aliases">
          Alias for: <a href="AssetTagHelper.html#method-i-image_path">image_path</a>
				</div>
				
			</div>

		
			<div id="path-to-javascript-method" class="method-detail method-alias">
				<a name="method-i-path_to_javascript"></a>

				<div class="method-heading">
				
					<span class="method-name">path_to_javascript</span><span
						class="method-args">(source)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
				</div>

				

				
				<div class="aliases">
          Alias for: <a href="AssetTagHelper.html#method-i-javascript_path">javascript_path</a>
				</div>
				
			</div>

		
			<div id="path-to-stylesheet-method" class="method-detail method-alias">
				<a name="method-i-path_to_stylesheet"></a>

				<div class="method-heading">
				
					<span class="method-name">path_to_stylesheet</span><span
						class="method-args">(source)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
				</div>

				

				
				<div class="aliases">
          Alias for: <a href="AssetTagHelper.html#method-i-stylesheet_path">stylesheet_path</a>
				</div>
				
			</div>

		
			<div id="path-to-video-method" class="method-detail method-alias">
				<a name="method-i-path_to_video"></a>

				<div class="method-heading">
				
					<span class="method-name">path_to_video</span><span
						class="method-args">(source)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
				</div>

				

				
				<div class="aliases">
          Alias for: <a href="AssetTagHelper.html#method-i-video_path">video_path</a>
				</div>
				
			</div>

		
			<div id="stylesheet-link-tag-method" class="method-detail ">
				<a name="method-i-stylesheet_link_tag"></a>

				<div class="method-heading">
				
					<span class="method-name">stylesheet_link_tag</span><span
						class="method-args">(*sources)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns a stylesheet link tag for the sources specified as arguments. If
you don&#8217;t specify an extension, <tt>.css</tt> will be appended
automatically. You can modify the link attributes by passing a hash as the
last argument.
</p>
<h4>Examples</h4>
<pre>
  stylesheet_link_tag &quot;style&quot; # =&gt;
    &lt;link href=&quot;/stylesheets/style.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;

  stylesheet_link_tag &quot;style.css&quot; # =&gt;
    &lt;link href=&quot;/stylesheets/style.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;

  stylesheet_link_tag &quot;http://www.railsapplication.com/style.css&quot; # =&gt;
    &lt;link href=&quot;http://www.railsapplication.com/style.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;

  stylesheet_link_tag &quot;style&quot;, :media =&gt; &quot;all&quot; # =&gt;
    &lt;link href=&quot;/stylesheets/style.css&quot; media=&quot;all&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;

  stylesheet_link_tag &quot;style&quot;, :media =&gt; &quot;print&quot; # =&gt;
    &lt;link href=&quot;/stylesheets/style.css&quot; media=&quot;print&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;

  stylesheet_link_tag &quot;random.styles&quot;, &quot;/css/stylish&quot; # =&gt;
    &lt;link href=&quot;/stylesheets/random.styles&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
    &lt;link href=&quot;/css/stylish.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
</pre>
<p>
You can also include all styles in the stylesheets directory using
<tt>:all</tt> as the source:
</p>
<pre>
  stylesheet_link_tag :all # =&gt;
    &lt;link href=&quot;/stylesheets/style1.css&quot;  media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
    &lt;link href=&quot;/stylesheets/styleB.css&quot;  media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
    &lt;link href=&quot;/stylesheets/styleX2.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
</pre>
<p>
If you want Rails to search in all the subdirectories under stylesheets,
you should explicitly set <tt>:recursive</tt>:
</p>
<pre>
  stylesheet_link_tag :all, :recursive =&gt; true
</pre>
<h2>Caching multiple stylesheets into one</h2>
<p>
You can also cache multiple stylesheets into one file, which requires less
HTTP connections and can better be compressed by gzip (leading to faster
transfers). Caching will only happen if config.perform_caching is set to
true (which is the case by default for the Rails production environment,
but not for the development environment). Examples:
</p>
<h4>Examples</h4>
<pre>
  stylesheet_link_tag :all, :cache =&gt; true # when config.perform_caching is false =&gt;
    &lt;link href=&quot;/stylesheets/style1.css&quot;  media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
    &lt;link href=&quot;/stylesheets/styleB.css&quot;  media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
    &lt;link href=&quot;/stylesheets/styleX2.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;

  stylesheet_link_tag :all, :cache =&gt; true # when config.perform_caching is true =&gt;
    &lt;link href=&quot;/stylesheets/all.css&quot;  media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;

  stylesheet_link_tag &quot;shop&quot;, &quot;cart&quot;, &quot;checkout&quot;, :cache =&gt; &quot;payment&quot; # when config.perform_caching is false =&gt;
    &lt;link href=&quot;/stylesheets/shop.css&quot;  media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
    &lt;link href=&quot;/stylesheets/cart.css&quot;  media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
    &lt;link href=&quot;/stylesheets/checkout.css&quot; media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;

  stylesheet_link_tag &quot;shop&quot;, &quot;cart&quot;, &quot;checkout&quot;, :cache =&gt; &quot;payment&quot; # when config.perform_caching is true =&gt;
    &lt;link href=&quot;/stylesheets/payment.css&quot;  media=&quot;screen&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
</pre>
<p>
The <tt>:recursive</tt> option is also available for caching:
</p>
<pre>
  stylesheet_link_tag :all, :cache =&gt; true, :recursive =&gt; true
</pre>
<p>
To force concatenation (even in development mode) set <tt>:concat</tt> to
true. This is useful if you have too many stylesheets for IE to load.
</p>
<pre>
  stylesheet_link_tag :all, :concat =&gt; true</pre>
					

					
					<div class="method-source-code"
						id="stylesheet-link-tag-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 492</span>
492:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stylesheet_link_tag</span>(*<span class="ruby-identifier">sources</span>)
493:         <span class="ruby-identifier">options</span> = <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">extract_options!</span>.<span class="ruby-identifier">stringify_keys</span>
494:         <span class="ruby-identifier">concat</span>  = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;concat&quot;</span>)
495:         <span class="ruby-identifier">cache</span>   = <span class="ruby-identifier">concat</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;cache&quot;</span>)
496:         <span class="ruby-identifier">recursive</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;recursive&quot;</span>)
497: 
498:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">concat</span> <span class="ruby-operator">||</span> (<span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">cache</span>)
499:           <span class="ruby-identifier">joined_stylesheet_name</span> = (<span class="ruby-identifier">cache</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span> <span class="ruby-operator">?</span> <span class="ruby-value str">&quot;all&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">cache</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;.css&quot;</span>
500:           <span class="ruby-identifier">joined_stylesheet_path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">joined_stylesheet_name</span>[<span class="ruby-node">/^#{File::SEPARATOR}/</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">assets_dir</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">stylesheets_dir</span>, <span class="ruby-identifier">joined_stylesheet_name</span>)
501: 
502:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">perform_caching</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">joined_stylesheet_path</span>)
503:             <span class="ruby-identifier">write_asset_file_contents</span>(<span class="ruby-identifier">joined_stylesheet_path</span>, <span class="ruby-identifier">compute_stylesheet_paths</span>(<span class="ruby-identifier">sources</span>, <span class="ruby-identifier">recursive</span>))
504:           <span class="ruby-keyword kw">end</span>
505:           <span class="ruby-identifier">stylesheet_tag</span>(<span class="ruby-identifier">joined_stylesheet_name</span>, <span class="ruby-identifier">options</span>)
506:         <span class="ruby-keyword kw">else</span>
507:           <span class="ruby-identifier">sources</span> = <span class="ruby-identifier">expand_stylesheet_sources</span>(<span class="ruby-identifier">sources</span>, <span class="ruby-identifier">recursive</span>)
508:           <span class="ruby-identifier">ensure_stylesheet_sources!</span>(<span class="ruby-identifier">sources</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">cache</span>
509:           <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">source</span><span class="ruby-operator">|</span> <span class="ruby-identifier">stylesheet_tag</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">options</span>) }.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>).<span class="ruby-identifier">html_safe</span>
510:         <span class="ruby-keyword kw">end</span>
511:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="stylesheet-path-method" class="method-detail ">
				<a name="method-i-stylesheet_path"></a>

				<div class="method-heading">
				
					<span class="method-name">stylesheet_path</span><span
						class="method-args">(source)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Computes the path to a stylesheet asset in the public stylesheets
directory. If the <tt>source</tt> filename has no extension, <tt>.css</tt>
will be appended (except for explicit URIs). Full paths from the document
root will be passed through. Used internally by <tt><a
href="AssetTagHelper.html#method-i-stylesheet_link_tag">stylesheet_link_tag</a></tt>
to build the stylesheet path.
</p>
<h4>Examples</h4>
<pre>
  stylesheet_path &quot;style&quot; # =&gt; /stylesheets/style.css
  stylesheet_path &quot;dir/style.css&quot; # =&gt; /stylesheets/dir/style.css
  stylesheet_path &quot;/dir/style.css&quot; # =&gt; /dir/style.css
  stylesheet_path &quot;http://www.railsapplication.com/css/style&quot; # =&gt; http://www.railsapplication.com/css/style
  stylesheet_path &quot;http://www.railsapplication.com/css/style.css&quot; # =&gt; http://www.railsapplication.com/css/style.css</pre>
					

					
					<div class="method-source-code"
						id="stylesheet-path-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 419</span>
419:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stylesheet_path</span>(<span class="ruby-identifier">source</span>)
420:         <span class="ruby-identifier">compute_public_path</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value str">'stylesheets'</span>, <span class="ruby-value str">'css'</span>)
421:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
				<div class="aliases">
					Also aliased as: <a href="AssetTagHelper.html#method-i-path_to_stylesheet">path_to_stylesheet</a>
				</div>
				

				
			</div>

		
			<div id="video-path-method" class="method-detail ">
				<a name="method-i-video_path"></a>

				<div class="method-heading">
				
					<span class="method-name">video_path</span><span
						class="method-args">(source)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Computes the path to a video asset in the public videos directory. Full
paths from the document root will be passed through. Used internally by
<tt><a href="AssetTagHelper.html#method-i-video_tag">video_tag</a></tt> to
build the video path.
</p>
<h4>Examples</h4>
<pre>
  video_path(&quot;hd&quot;)                                            # =&gt; /videos/hd
  video_path(&quot;hd.avi&quot;)                                        # =&gt; /videos/hd.avi
  video_path(&quot;trailers/hd.avi&quot;)                               # =&gt; /videos/trailers/hd.avi
  video_path(&quot;/trailers/hd.avi&quot;)                              # =&gt; /trailers/hd.avi
  video_path(&quot;http://www.railsapplication.com/vid/hd.avi&quot;) # =&gt; http://www.railsapplication.com/vid/hd.avi</pre>
					

					
					<div class="method-source-code"
						id="video-path-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 575</span>
575:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">video_path</span>(<span class="ruby-identifier">source</span>)
576:         <span class="ruby-identifier">compute_public_path</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value str">'videos'</span>)
577:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
				<div class="aliases">
					Also aliased as: <a href="AssetTagHelper.html#method-i-path_to_video">path_to_video</a>
				</div>
				

				
			</div>

		
			<div id="video-tag-method" class="method-detail ">
				<a name="method-i-video_tag"></a>

				<div class="method-heading">
				
					<span class="method-name">video_tag</span><span
						class="method-args">(sources, options = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns an html video tag for the <tt>sources</tt>. If <tt>sources</tt> is
a string, a single video tag will be returned. If <tt>sources</tt> is an
array, a video tag with nested source tags for each source will be
returned. The <tt>sources</tt> can be full paths or files that exists in
your public videos directory.
</p>
<h4>Options</h4>
<p>
You can add HTML attributes using the <tt>options</tt>. The
<tt>options</tt> supports two additional keys for convenience and
conformance:
</p>
<ul>
<li><p>
<tt>:poster</tt> - Set an image (like a screenshot) to be shown before the
video loads. The path is calculated like the <tt>src</tt> of <tt><a
href="AssetTagHelper.html#method-i-image_tag">image_tag</a></tt>.
</p>
</li>
<li><p>
<tt>:size</tt> - Supplied as &#8220;{Width}x{Height}&#8221;, so
&#8220;30x45&#8221; becomes width=&#8220;30&#8221; and
height=&#8220;45&#8221;. <tt>:size</tt> will be ignored if the value is not
in the correct format.
</p>
</li>
</ul>
<h4>Examples</h4>
<pre>
 video_tag(&quot;trailer&quot;)  # =&gt;
   &lt;video src=&quot;/videos/trailer&quot; /&gt;
 video_tag(&quot;trailer.ogg&quot;)  # =&gt;
   &lt;video src=&quot;/videos/trailer.ogg&quot; /&gt;
 video_tag(&quot;trailer.ogg&quot;, :controls =&gt; true, :autobuffer =&gt; true)  # =&gt;
   &lt;video autobuffer=&quot;autobuffer&quot; controls=&quot;controls&quot; src=&quot;/videos/trailer.ogg&quot; /&gt;
 video_tag(&quot;trailer.m4v&quot;, :size =&gt; &quot;16x10&quot;, :poster =&gt; &quot;screenshot.png&quot;)  # =&gt;
   &lt;video src=&quot;/videos/trailer.m4v&quot; width=&quot;16&quot; height=&quot;10&quot; poster=&quot;/images/screenshot.png&quot; /&gt;
 video_tag(&quot;/trailers/hd.avi&quot;, :size =&gt; &quot;16x16&quot;)  # =&gt;
   &lt;video src=&quot;/trailers/hd.avi&quot; width=&quot;16&quot; height=&quot;16&quot; /&gt;
 video_tag(&quot;/trailers/hd.avi&quot;, :height =&gt; '32', :width =&gt; '32') # =&gt;
   &lt;video height=&quot;32&quot; src=&quot;/trailers/hd.avi&quot; width=&quot;32&quot; /&gt;
 video_tag([&quot;trailer.ogg&quot;, &quot;trailer.flv&quot;]) # =&gt;
   &lt;video&gt;&lt;source src=&quot;trailer.ogg&quot; /&gt;&lt;source src=&quot;trailer.ogg&quot; /&gt;&lt;source src=&quot;trailer.flv&quot; /&gt;&lt;/video&gt;
 video_tag([&quot;trailer.ogg&quot;, &quot;trailer.flv&quot;] :size =&gt; &quot;160x120&quot;) # =&gt;
   &lt;video height=&quot;120&quot; width=&quot;160&quot;&gt;&lt;source src=&quot;trailer.ogg&quot; /&gt;&lt;source src=&quot;trailer.flv&quot; /&gt;&lt;/video&gt;</pre>
					

					
					<div class="method-source-code"
						id="video-tag-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 682</span>
682:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">video_tag</span>(<span class="ruby-identifier">sources</span>, <span class="ruby-identifier">options</span> = {})
683:         <span class="ruby-identifier">options</span>.<span class="ruby-identifier">symbolize_keys!</span>
684: 
685:         <span class="ruby-identifier">options</span>[<span class="ruby-value">:poster</span>] = <span class="ruby-identifier">path_to_image</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:poster</span>]) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:poster</span>]
686: 
687:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">size</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:size</span>)
688:           <span class="ruby-identifier">options</span>[<span class="ruby-value">:width</span>], <span class="ruby-identifier">options</span>[<span class="ruby-value">:height</span>] = <span class="ruby-identifier">size</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;x&quot;</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">%{^\d+x\d+$}</span>
689:         <span class="ruby-keyword kw">end</span>
690: 
691:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
692:           <span class="ruby-identifier">content_tag</span>(<span class="ruby-value str">&quot;video&quot;</span>, <span class="ruby-identifier">options</span>) <span class="ruby-keyword kw">do</span>
693:             <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">source</span><span class="ruby-operator">|</span> <span class="ruby-identifier">tag</span>(<span class="ruby-value str">&quot;source&quot;</span>, <span class="ruby-value">:src</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">source</span>) }.<span class="ruby-identifier">join</span>.<span class="ruby-identifier">html_safe</span>
694:           <span class="ruby-keyword kw">end</span>
695:         <span class="ruby-keyword kw">else</span>
696:           <span class="ruby-identifier">options</span>[<span class="ruby-value">:src</span>] = <span class="ruby-identifier">path_to_video</span>(<span class="ruby-identifier">sources</span>)
697:           <span class="ruby-identifier">tag</span>(<span class="ruby-value str">&quot;video&quot;</span>, <span class="ruby-identifier">options</span>)
698:         <span class="ruby-keyword kw">end</span>
699:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="private-instance-method-details" class="method-section section">
			<h3 class="section-header">Private Instance Methods</h3>

		
			<div id="asset-file-path-method" class="method-detail ">
				<a name="method-i-asset_file_path"></a>

				<div class="method-heading">
				
					<span class="method-name">asset_file_path</span><span
						class="method-args">(path)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="asset-file-path-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 898</span>
898:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">asset_file_path</span>(<span class="ruby-identifier">path</span>)
899:           <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">config</span>.<span class="ruby-identifier">assets_dir</span>, <span class="ruby-identifier">path</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">'?'</span>).<span class="ruby-identifier">first</span>)
900:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="asset-file-path--method" class="method-detail ">
				<a name="method-i-asset_file_path%21"></a>

				<div class="method-heading">
				
					<span class="method-name">asset_file_path!</span><span
						class="method-args">(path)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="asset-file-path--source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 902</span>
902:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">asset_file_path!</span>(<span class="ruby-identifier">path</span>)
903:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">is_uri?</span>(<span class="ruby-identifier">path</span>)
904:             <span class="ruby-identifier">absolute_path</span> = <span class="ruby-identifier">asset_file_path</span>(<span class="ruby-identifier">path</span>)
905:             <span class="ruby-identifier">raise</span>(<span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span>, <span class="ruby-node">&quot;Asset file not found at '#{absolute_path}'&quot;</span> ) <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">absolute_path</span>)
906:             <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">absolute_path</span>
907:           <span class="ruby-keyword kw">end</span>
908:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="collect-asset-files-method" class="method-detail ">
				<a name="method-i-collect_asset_files"></a>

				<div class="method-heading">
				
					<span class="method-name">collect_asset_files</span><span
						class="method-args">(*path)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="collect-asset-files-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 910</span>
910:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">collect_asset_files</span>(*<span class="ruby-identifier">path</span>)
911:           <span class="ruby-identifier">dir</span> = <span class="ruby-identifier">path</span>.<span class="ruby-identifier">first</span>
912: 
913:           <span class="ruby-constant">Dir</span>[<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(*<span class="ruby-identifier">path</span>.<span class="ruby-identifier">compact</span>)].<span class="ruby-identifier">collect</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
914:             <span class="ruby-identifier">file</span>[<span class="ruby-operator">-</span>(<span class="ruby-identifier">file</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">dir</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>)<span class="ruby-operator">..</span><span class="ruby-value">1</span>].<span class="ruby-identifier">sub</span>(<span class="ruby-regexp re">/\.\w+$/</span>, <span class="ruby-value str">''</span>)
915:           <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">sort</span>
916:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="compute-asset-host-method" class="method-detail ">
				<a name="method-i-compute_asset_host"></a>

				<div class="method-heading">
				
					<span class="method-name">compute_asset_host</span><span
						class="method-args">(source)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Pick an asset host for this source. Returns <tt>nil</tt> if no host is set,
the host if no wildcard is set, the host interpolated with the numbers 0-3
if it contains <tt>%d</tt> (the number is the source hash mod 4), or the
value returned from invoking the proc if it&#8217;s a proc or the value
from invoking call if it&#8217;s an object responding to call.
</p>
					

					
					<div class="method-source-code"
						id="compute-asset-host-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 762</span>
762:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">compute_asset_host</span>(<span class="ruby-identifier">source</span>)
763:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">host</span> = <span class="ruby-identifier">config</span>.<span class="ruby-identifier">asset_host</span>
764:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">host</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Proc</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">host</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:call</span>)
765:               <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">host</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Proc</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">host</span>.<span class="ruby-identifier">arity</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">host</span>.<span class="ruby-identifier">method</span>(<span class="ruby-value">:call</span>).<span class="ruby-identifier">arity</span>
766:               <span class="ruby-keyword kw">when</span> <span class="ruby-value">2</span>
767:                 <span class="ruby-identifier">request</span> = <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:request</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">request</span>
768:                 <span class="ruby-identifier">host</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">request</span>)
769:               <span class="ruby-keyword kw">else</span>
770:                 <span class="ruby-identifier">host</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">source</span>)
771:               <span class="ruby-keyword kw">end</span>
772:             <span class="ruby-keyword kw">else</span>
773:               (<span class="ruby-identifier">host</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/%d/</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">host</span> <span class="ruby-operator">%</span> (<span class="ruby-identifier">source</span>.<span class="ruby-identifier">hash</span> <span class="ruby-operator">%</span> <span class="ruby-value">4</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">host</span>
774:             <span class="ruby-keyword kw">end</span>
775:           <span class="ruby-keyword kw">end</span>
776:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="compute-javascript-paths-method" class="method-detail ">
				<a name="method-i-compute_javascript_paths"></a>

				<div class="method-heading">
				
					<span class="method-name">compute_javascript_paths</span><span
						class="method-args">(*args)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="compute-javascript-paths-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 829</span>
829:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">compute_javascript_paths</span>(*<span class="ruby-identifier">args</span>)
830:           <span class="ruby-identifier">expand_javascript_sources</span>(*<span class="ruby-identifier">args</span>).<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">source</span><span class="ruby-operator">|</span> <span class="ruby-identifier">compute_public_path</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value str">'javascripts'</span>, <span class="ruby-value str">'js'</span>, <span class="ruby-keyword kw">false</span>) }
831:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="compute-public-path-method" class="method-detail ">
				<a name="method-i-compute_public_path"></a>

				<div class="method-heading">
				
					<span class="method-name">compute_public_path</span><span
						class="method-args">(source, dir, ext = nil, include_host = true)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Add the the extension <tt>ext</tt> if not present. Return full URLs
otherwise untouched. Prefix with <tt>/dir/</tt> if lacking a leading
<tt>/</tt>. Account for relative URL roots. Rewrite the asset path for
cache-busting asset ids. Include asset host, if configured, with the
correct request protocol.
</p>
					

					
					<div class="method-source-code"
						id="compute-public-path-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 737</span>
737:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">compute_public_path</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">dir</span>, <span class="ruby-identifier">ext</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">include_host</span> = <span class="ruby-keyword kw">true</span>)
738:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">source</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">is_uri?</span>(<span class="ruby-identifier">source</span>)
739: 
740:           <span class="ruby-identifier">source</span> <span class="ruby-operator">+=</span> <span class="ruby-node">&quot;.#{ext}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rewrite_extension?</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">dir</span>, <span class="ruby-identifier">ext</span>)
741:           <span class="ruby-identifier">source</span>  = <span class="ruby-node">&quot;/#{dir}/#{source}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">source</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-value">//</span>
742:           <span class="ruby-identifier">source</span> = <span class="ruby-identifier">rewrite_asset_path</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">config</span>.<span class="ruby-identifier">asset_path</span>)
743: 
744:           <span class="ruby-identifier">has_request</span> = <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:request</span>)
745:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">has_request</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">include_host</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">source</span> <span class="ruby-operator">!~</span> <span class="ruby-node">%{^#{controller.config.relative_url_root}/}</span>
746:             <span class="ruby-identifier">source</span> = <span class="ruby-node">&quot;#{controller.config.relative_url_root}#{source}&quot;</span>
747:           <span class="ruby-keyword kw">end</span>
748:           <span class="ruby-identifier">source</span> = <span class="ruby-identifier">rewrite_host_and_protocol</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">has_request</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">include_host</span>
749: 
750:           <span class="ruby-identifier">source</span>
751:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="compute-stylesheet-paths-method" class="method-detail ">
				<a name="method-i-compute_stylesheet_paths"></a>

				<div class="method-heading">
				
					<span class="method-name">compute_stylesheet_paths</span><span
						class="method-args">(*args)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="compute-stylesheet-paths-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 833</span>
833:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">compute_stylesheet_paths</span>(*<span class="ruby-identifier">args</span>)
834:           <span class="ruby-identifier">expand_stylesheet_sources</span>(*<span class="ruby-identifier">args</span>).<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">source</span><span class="ruby-operator">|</span> <span class="ruby-identifier">compute_public_path</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value str">'stylesheets'</span>, <span class="ruby-value str">'css'</span>, <span class="ruby-keyword kw">false</span>) }
835:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="determine-source-method" class="method-detail ">
				<a name="method-i-determine_source"></a>

				<div class="method-heading">
				
					<span class="method-name">determine_source</span><span
						class="method-args">(source, collection)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="determine-source-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 860</span>
860:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">determine_source</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">collection</span>)
861:           <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">source</span>
862:           <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Symbol</span>
863:             <span class="ruby-identifier">collection</span>[<span class="ruby-identifier">source</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">raise</span>(<span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;No expansion found for #{source.inspect}&quot;</span>)
864:           <span class="ruby-keyword kw">else</span>
865:             <span class="ruby-identifier">source</span>
866:           <span class="ruby-keyword kw">end</span>
867:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="ensure-javascript-sources--method" class="method-detail ">
				<a name="method-i-ensure_javascript_sources%21"></a>

				<div class="method-heading">
				
					<span class="method-name">ensure_javascript_sources!</span><span
						class="method-args">(sources)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="ensure-javascript-sources--source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 876</span>
876:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ensure_javascript_sources!</span>(<span class="ruby-identifier">sources</span>)
877:           <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">source</span><span class="ruby-operator">|</span>
878:             <span class="ruby-identifier">asset_file_path!</span>(<span class="ruby-identifier">path_to_javascript</span>(<span class="ruby-identifier">source</span>))
879:           <span class="ruby-keyword kw">end</span>
880:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">sources</span>
881:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="ensure-stylesheet-sources--method" class="method-detail ">
				<a name="method-i-ensure_stylesheet_sources%21"></a>

				<div class="method-heading">
				
					<span class="method-name">ensure_stylesheet_sources!</span><span
						class="method-args">(sources)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="ensure-stylesheet-sources--source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 869</span>
869:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ensure_stylesheet_sources!</span>(<span class="ruby-identifier">sources</span>)
870:           <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">source</span><span class="ruby-operator">|</span>
871:             <span class="ruby-identifier">asset_file_path!</span>(<span class="ruby-identifier">path_to_stylesheet</span>(<span class="ruby-identifier">source</span>))
872:           <span class="ruby-keyword kw">end</span>
873:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">sources</span>
874:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="expand-javascript-sources-method" class="method-detail ">
				<a name="method-i-expand_javascript_sources"></a>

				<div class="method-heading">
				
					<span class="method-name">expand_javascript_sources</span><span
						class="method-args">(sources, recursive = false)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="expand-javascript-sources-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 837</span>
837:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">expand_javascript_sources</span>(<span class="ruby-identifier">sources</span>, <span class="ruby-identifier">recursive</span> = <span class="ruby-keyword kw">false</span>)
838:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value">:all</span>)
839:             <span class="ruby-identifier">all_javascript_files</span> = <span class="ruby-identifier">collect_asset_files</span>(<span class="ruby-identifier">config</span>.<span class="ruby-identifier">javascripts_dir</span>, (<span class="ruby-value str">'**'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">recursive</span>), <span class="ruby-value str">'*.js'</span>)
840:             ((<span class="ruby-identifier">determine_source</span>(<span class="ruby-value">:defaults</span>, <span class="ruby-identifier">@@javascript_expansions</span>).<span class="ruby-identifier">dup</span> &amp; <span class="ruby-identifier">all_javascript_files</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">all_javascript_files</span>).<span class="ruby-identifier">uniq</span>
841:           <span class="ruby-keyword kw">else</span>
842:             <span class="ruby-identifier">expanded_sources</span> = <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">source</span><span class="ruby-operator">|</span>
843:               <span class="ruby-identifier">determine_source</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">@@javascript_expansions</span>)
844:             <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">flatten</span>
845:             <span class="ruby-identifier">expanded_sources</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;application&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value">:defaults</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">config</span>.<span class="ruby-identifier">javascripts_dir</span>, <span class="ruby-value str">&quot;application.js&quot;</span>))
846:             <span class="ruby-identifier">expanded_sources</span>
847:           <span class="ruby-keyword kw">end</span>
848:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="expand-stylesheet-sources-method" class="method-detail ">
				<a name="method-i-expand_stylesheet_sources"></a>

				<div class="method-heading">
				
					<span class="method-name">expand_stylesheet_sources</span><span
						class="method-args">(sources, recursive)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="expand-stylesheet-sources-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 850</span>
850:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">expand_stylesheet_sources</span>(<span class="ruby-identifier">sources</span>, <span class="ruby-identifier">recursive</span>)
851:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">first</span> <span class="ruby-operator">==</span> <span class="ruby-value">:all</span>
852:             <span class="ruby-identifier">collect_asset_files</span>(<span class="ruby-identifier">config</span>.<span class="ruby-identifier">stylesheets_dir</span>, (<span class="ruby-value str">'**'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">recursive</span>), <span class="ruby-value str">'*.css'</span>)
853:           <span class="ruby-keyword kw">else</span>
854:             <span class="ruby-identifier">sources</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">source</span><span class="ruby-operator">|</span>
855:               <span class="ruby-identifier">determine_source</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">@@stylesheet_expansions</span>)
856:             <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">flatten</span>
857:           <span class="ruby-keyword kw">end</span>
858:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="is-uri--method" class="method-detail ">
				<a name="method-i-is_uri%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">is_uri?</span><span
						class="method-args">(path)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="is-uri--source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 753</span>
753:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">is_uri?</span>(<span class="ruby-identifier">path</span>)
754:           <span class="ruby-identifier">path</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">%{^[-a-z]+://|^cid:}</span>
755:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="javascript-src-tag-method" class="method-detail ">
				<a name="method-i-javascript_src_tag"></a>

				<div class="method-heading">
				
					<span class="method-name">javascript_src_tag</span><span
						class="method-args">(source, options)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="javascript-src-tag-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 821</span>
821:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">javascript_src_tag</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">options</span>)
822:           <span class="ruby-identifier">content_tag</span>(<span class="ruby-value str">&quot;script&quot;</span>, <span class="ruby-value str">&quot;&quot;</span>, { <span class="ruby-value str">&quot;type&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">JS</span>, <span class="ruby-value str">&quot;src&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">path_to_javascript</span>(<span class="ruby-identifier">source</span>) }.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>))
823:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="join-asset-file-contents-method" class="method-detail ">
				<a name="method-i-join_asset_file_contents"></a>

				<div class="method-heading">
				
					<span class="method-name">join_asset_file_contents</span><span
						class="method-args">(paths)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="join-asset-file-contents-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 883</span>
883:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">join_asset_file_contents</span>(<span class="ruby-identifier">paths</span>)
884:           <span class="ruby-identifier">paths</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">asset_file_path!</span>(<span class="ruby-identifier">path</span>)) }.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n\n&quot;</span>)
885:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="rails-asset-id-method" class="method-detail ">
				<a name="method-i-rails_asset_id"></a>

				<div class="method-heading">
				
					<span class="method-name">rails_asset_id</span><span
						class="method-args">(source)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Use the RAILS_ASSET_ID environment variable or the source&#8217;s
modification time as its cache-busting asset id.
</p>
					

					
					<div class="method-source-code"
						id="rails-asset-id-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 783</span>
783:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rails_asset_id</span>(<span class="ruby-identifier">source</span>)
784:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">asset_id</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-value str">&quot;RAILS_ASSET_ID&quot;</span>]
785:             <span class="ruby-identifier">asset_id</span>
786:           <span class="ruby-keyword kw">else</span>
787:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">@@cache_asset_timestamps</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">asset_id</span> = <span class="ruby-identifier">@@asset_timestamps_cache</span>[<span class="ruby-identifier">source</span>])
788:               <span class="ruby-identifier">asset_id</span>
789:             <span class="ruby-keyword kw">else</span>
790:               <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">config</span>.<span class="ruby-identifier">assets_dir</span>, <span class="ruby-identifier">source</span>)
791:               <span class="ruby-identifier">asset_id</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">path</span>) <span class="ruby-operator">?</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">mtime</span>(<span class="ruby-identifier">path</span>).<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">:</span> <span class="ruby-value str">''</span>
792: 
793:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">@@cache_asset_timestamps</span>
794:                 <span class="ruby-identifier">@@asset_timestamps_cache_guard</span>.<span class="ruby-identifier">synchronize</span> <span class="ruby-keyword kw">do</span>
795:                   <span class="ruby-identifier">@@asset_timestamps_cache</span>[<span class="ruby-identifier">source</span>] = <span class="ruby-identifier">asset_id</span>
796:                 <span class="ruby-keyword kw">end</span>
797:               <span class="ruby-keyword kw">end</span>
798: 
799:               <span class="ruby-identifier">asset_id</span>
800:             <span class="ruby-keyword kw">end</span>
801:           <span class="ruby-keyword kw">end</span>
802:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="rewrite-asset-path-method" class="method-detail ">
				<a name="method-i-rewrite_asset_path"></a>

				<div class="method-heading">
				
					<span class="method-name">rewrite_asset_path</span><span
						class="method-args">(source, path = nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Break out the asset path rewrite in case plugins wish to put the asset id
someplace other than the query string.
</p>
					

					
					<div class="method-source-code"
						id="rewrite-asset-path-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 806</span>
806:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rewrite_asset_path</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">path</span> = <span class="ruby-keyword kw">nil</span>)
807:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:call</span>)
808:             <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">source</span>)
809:           <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
810:             <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">%</span> [<span class="ruby-identifier">source</span>]
811:           <span class="ruby-keyword kw">end</span>
812: 
813:           <span class="ruby-identifier">asset_id</span> = <span class="ruby-identifier">rails_asset_id</span>(<span class="ruby-identifier">source</span>)
814:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">asset_id</span>.<span class="ruby-identifier">blank?</span>
815:             <span class="ruby-identifier">source</span>
816:           <span class="ruby-keyword kw">else</span>
817:             <span class="ruby-identifier">source</span> <span class="ruby-operator">+</span> <span class="ruby-node">&quot;?#{asset_id}&quot;</span>
818:           <span class="ruby-keyword kw">end</span>
819:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="rewrite-extension--method" class="method-detail ">
				<a name="method-i-rewrite_extension%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">rewrite_extension?</span><span
						class="method-args">(source, dir, ext)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="rewrite-extension--source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 720</span>
720:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rewrite_extension?</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">dir</span>, <span class="ruby-identifier">ext</span>)
721:           <span class="ruby-identifier">source_ext</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">extname</span>(<span class="ruby-identifier">source</span>)[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>]
722:           <span class="ruby-identifier">ext</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">source_ext</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-operator">||</span> (<span class="ruby-identifier">ext</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">source_ext</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">config</span>.<span class="ruby-identifier">assets_dir</span>, <span class="ruby-identifier">dir</span>, <span class="ruby-node">&quot;#{source}.#{ext}&quot;</span>))))
723:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="rewrite-host-and-protocol-method" class="method-detail ">
				<a name="method-i-rewrite_host_and_protocol"></a>

				<div class="method-heading">
				
					<span class="method-name">rewrite_host_and_protocol</span><span
						class="method-args">(source, has_request)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="rewrite-host-and-protocol-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 725</span>
725:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rewrite_host_and_protocol</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">has_request</span>)
726:           <span class="ruby-identifier">host</span> = <span class="ruby-identifier">compute_asset_host</span>(<span class="ruby-identifier">source</span>)
727:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">has_request</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">host</span>.<span class="ruby-identifier">present?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">is_uri?</span>(<span class="ruby-identifier">host</span>)
728:             <span class="ruby-identifier">host</span> = <span class="ruby-node">&quot;#{controller.request.protocol}#{host}&quot;</span>
729:           <span class="ruby-keyword kw">end</span>
730:           <span class="ruby-node">&quot;#{host}#{source}&quot;</span>
731:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="stylesheet-tag-method" class="method-detail ">
				<a name="method-i-stylesheet_tag"></a>

				<div class="method-heading">
				
					<span class="method-name">stylesheet_tag</span><span
						class="method-args">(source, options)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="stylesheet-tag-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 825</span>
825:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">stylesheet_tag</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">options</span>)
826:           <span class="ruby-identifier">tag</span>(<span class="ruby-value str">&quot;link&quot;</span>, { <span class="ruby-value str">&quot;rel&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;stylesheet&quot;</span>, <span class="ruby-value str">&quot;type&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Mime</span><span class="ruby-operator">::</span><span class="ruby-constant">CSS</span>, <span class="ruby-value str">&quot;media&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;screen&quot;</span>, <span class="ruby-value str">&quot;href&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">path_to_stylesheet</span>(<span class="ruby-identifier">source</span>)) }.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>), <span class="ruby-keyword kw">false</span>, <span class="ruby-keyword kw">false</span>)
827:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="write-asset-file-contents-method" class="method-detail ">
				<a name="method-i-write_asset_file_contents"></a>

				<div class="method-heading">
				
					<span class="method-name">write_asset_file_contents</span><span
						class="method-args">(joined_asset_path, asset_paths)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="write-asset-file-contents-source">
<pre>
     <span class="ruby-comment cmt"># File lib/action_view/helpers/asset_tag_helper.rb, line 887</span>
887:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write_asset_file_contents</span>(<span class="ruby-identifier">joined_asset_path</span>, <span class="ruby-identifier">asset_paths</span>)
888: 
889:           <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">mkdir_p</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">joined_asset_path</span>))
890:           <span class="ruby-constant">File</span>.<span class="ruby-identifier">atomic_write</span>(<span class="ruby-identifier">joined_asset_path</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">cache</span><span class="ruby-operator">|</span> <span class="ruby-identifier">cache</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">join_asset_file_contents</span>(<span class="ruby-identifier">asset_paths</span>)) }
891: 
892:           <span class="ruby-comment cmt"># Set mtime to the latest of the combined files to allow for</span>
893:           <span class="ruby-comment cmt"># consistent ETag without a shared filesystem.</span>
894:           <span class="ruby-identifier">mt</span> = <span class="ruby-identifier">asset_paths</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">mtime</span>(<span class="ruby-identifier">asset_file_path</span>(<span class="ruby-identifier">p</span>)) }.<span class="ruby-identifier">max</span>
895:           <span class="ruby-constant">File</span>.<span class="ruby-identifier">utime</span>(<span class="ruby-identifier">mt</span>, <span class="ruby-identifier">mt</span>, <span class="ruby-identifier">joined_asset_path</span>)
896:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

