<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>File: README.rdoc [mail-2.2.5 Documentation]</title>

	<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet" />

	<script src="./js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>
</head>

<body class="file">
	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="./CHANGELOG_rdoc.html">CHANGELOG.rdoc</a></li>
				
					<li class="file"><a href="./README_rdoc.html">README.rdoc</a></li>
				
					<li class="file"><a href="./TODO_rdoc.html">TODO.rdoc</a></li>
				
					<li class="file"><a href="./lib/VERSION.html">VERSION</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="./images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="./Mail.html">Mail</a></li>
				
					<li><a href="./Mail/Address.html">Mail::Address</a></li>
				
					<li><a href="./Mail/AddressContainer.html">Mail::AddressContainer</a></li>
				
					<li><a href="./Mail/AddressLists.html">Mail::AddressLists</a></li>
				
					<li><a href="./Mail/AddressLists/PrimaryAddress0.html">Mail::AddressLists::PrimaryAddress0</a></li>
				
					<li><a href="./Mail/AddressLists/PrimaryAddress1.html">Mail::AddressLists::PrimaryAddress1</a></li>
				
					<li><a href="./Mail/AddressListsParser.html">Mail::AddressListsParser</a></li>
				
					<li><a href="./Mail/AttachmentsList.html">Mail::AttachmentsList</a></li>
				
					<li><a href="./Mail/BccField.html">Mail::BccField</a></li>
				
					<li><a href="./Mail/Body.html">Mail::Body</a></li>
				
					<li><a href="./Mail/CcField.html">Mail::CcField</a></li>
				
					<li><a href="./Mail/CommentsField.html">Mail::CommentsField</a></li>
				
					<li><a href="./Mail/Configuration.html">Mail::Configuration</a></li>
				
					<li><a href="./Mail/ContentDescriptionField.html">Mail::ContentDescriptionField</a></li>
				
					<li><a href="./Mail/ContentDisposition.html">Mail::ContentDisposition</a></li>
				
					<li><a href="./Mail/ContentDisposition/ContentDisposition0.html">Mail::ContentDisposition::ContentDisposition0</a></li>
				
					<li><a href="./Mail/ContentDisposition/ContentDisposition1.html">Mail::ContentDisposition::ContentDisposition1</a></li>
				
					<li><a href="./Mail/ContentDisposition/ContentDisposition2.html">Mail::ContentDisposition::ContentDisposition2</a></li>
				
					<li><a href="./Mail/ContentDisposition/Parameter0.html">Mail::ContentDisposition::Parameter0</a></li>
				
					<li><a href="./Mail/ContentDisposition/Parameter1.html">Mail::ContentDisposition::Parameter1</a></li>
				
					<li><a href="./Mail/ContentDisposition/Value0.html">Mail::ContentDisposition::Value0</a></li>
				
					<li><a href="./Mail/ContentDispositionField.html">Mail::ContentDispositionField</a></li>
				
					<li><a href="./Mail/ContentDispositionParser.html">Mail::ContentDispositionParser</a></li>
				
					<li><a href="./Mail/ContentIdField.html">Mail::ContentIdField</a></li>
				
					<li><a href="./Mail/ContentLocation.html">Mail::ContentLocation</a></li>
				
					<li><a href="./Mail/ContentLocation/Location0.html">Mail::ContentLocation::Location0</a></li>
				
					<li><a href="./Mail/ContentLocation/Primary0.html">Mail::ContentLocation::Primary0</a></li>
				
					<li><a href="./Mail/ContentLocationField.html">Mail::ContentLocationField</a></li>
				
					<li><a href="./Mail/ContentLocationParser.html">Mail::ContentLocationParser</a></li>
				
					<li><a href="./Mail/ContentTransferEncoding.html">Mail::ContentTransferEncoding</a></li>
				
					<li><a href="./Mail/ContentTransferEncoding/Encoding0.html">Mail::ContentTransferEncoding::Encoding0</a></li>
				
					<li><a href="./Mail/ContentTransferEncoding/Encoding1.html">Mail::ContentTransferEncoding::Encoding1</a></li>
				
					<li><a href="./Mail/ContentTransferEncoding/Primary0.html">Mail::ContentTransferEncoding::Primary0</a></li>
				
					<li><a href="./Mail/ContentTransferEncodingElement.html">Mail::ContentTransferEncodingElement</a></li>
				
					<li><a href="./Mail/ContentTransferEncodingField.html">Mail::ContentTransferEncodingField</a></li>
				
					<li><a href="./Mail/ContentTransferEncodingParser.html">Mail::ContentTransferEncodingParser</a></li>
				
					<li><a href="./Mail/ContentType.html">Mail::ContentType</a></li>
				
					<li><a href="./Mail/ContentType/ContentType0.html">Mail::ContentType::ContentType0</a></li>
				
					<li><a href="./Mail/ContentType/ContentType1.html">Mail::ContentType::ContentType1</a></li>
				
					<li><a href="./Mail/ContentType/ContentType2.html">Mail::ContentType::ContentType2</a></li>
				
					<li><a href="./Mail/ContentType/Parameter0.html">Mail::ContentType::Parameter0</a></li>
				
					<li><a href="./Mail/ContentType/Parameter1.html">Mail::ContentType::Parameter1</a></li>
				
					<li><a href="./Mail/ContentType/Value0.html">Mail::ContentType::Value0</a></li>
				
					<li><a href="./Mail/ContentTypeField.html">Mail::ContentTypeField</a></li>
				
					<li><a href="./Mail/ContentTypeParser.html">Mail::ContentTypeParser</a></li>
				
					<li><a href="./Mail/DateField.html">Mail::DateField</a></li>
				
					<li><a href="./Mail/DateTime.html">Mail::DateTime</a></li>
				
					<li><a href="./Mail/DateTime/Primary0.html">Mail::DateTime::Primary0</a></li>
				
					<li><a href="./Mail/DateTime/Primary1.html">Mail::DateTime::Primary1</a></li>
				
					<li><a href="./Mail/DateTimeParser.html">Mail::DateTimeParser</a></li>
				
					<li><a href="./Mail/Encodings.html">Mail::Encodings</a></li>
				
					<li><a href="./Mail/Encodings/Base64.html">Mail::Encodings::Base64</a></li>
				
					<li><a href="./Mail/Encodings/Binary.html">Mail::Encodings::Binary</a></li>
				
					<li><a href="./Mail/Encodings/EightBit.html">Mail::Encodings::EightBit</a></li>
				
					<li><a href="./Mail/Encodings/QuotedPrintable.html">Mail::Encodings::QuotedPrintable</a></li>
				
					<li><a href="./Mail/Encodings/SevenBit.html">Mail::Encodings::SevenBit</a></li>
				
					<li><a href="./Mail/Encodings/TransferEncoding.html">Mail::Encodings::TransferEncoding</a></li>
				
					<li><a href="./Mail/Envelope.html">Mail::Envelope</a></li>
				
					<li><a href="./Mail/EnvelopeFrom.html">Mail::EnvelopeFrom</a></li>
				
					<li><a href="./Mail/EnvelopeFrom/CtimeDate0.html">Mail::EnvelopeFrom::CtimeDate0</a></li>
				
					<li><a href="./Mail/EnvelopeFrom/Primary0.html">Mail::EnvelopeFrom::Primary0</a></li>
				
					<li><a href="./Mail/EnvelopeFromElement.html">Mail::EnvelopeFromElement</a></li>
				
					<li><a href="./Mail/EnvelopeFromParser.html">Mail::EnvelopeFromParser</a></li>
				
					<li><a href="./Mail/Field.html">Mail::Field</a></li>
				
					<li><a href="./Mail/Field/FieldError.html">Mail::Field::FieldError</a></li>
				
					<li><a href="./Mail/FieldList.html">Mail::FieldList</a></li>
				
					<li><a href="./Mail/FileDelivery.html">Mail::FileDelivery</a></li>
				
					<li><a href="./Mail/FromField.html">Mail::FromField</a></li>
				
					<li><a href="./Mail/Header.html">Mail::Header</a></li>
				
					<li><a href="./Mail/IMAP.html">Mail::IMAP</a></li>
				
					<li><a href="./Mail/InReplyToField.html">Mail::InReplyToField</a></li>
				
					<li><a href="./Mail/KeywordsField.html">Mail::KeywordsField</a></li>
				
					<li><a href="./Mail/Message.html">Mail::Message</a></li>
				
					<li><a href="./Mail/MessageIdField.html">Mail::MessageIdField</a></li>
				
					<li><a href="./Mail/MessageIds.html">Mail::MessageIds</a></li>
				
					<li><a href="./Mail/MessageIds/Primary0.html">Mail::MessageIds::Primary0</a></li>
				
					<li><a href="./Mail/MessageIdsElement.html">Mail::MessageIdsElement</a></li>
				
					<li><a href="./Mail/MessageIdsParser.html">Mail::MessageIdsParser</a></li>
				
					<li><a href="./Mail/MimeVersion.html">Mail::MimeVersion</a></li>
				
					<li><a href="./Mail/MimeVersion/Version0.html">Mail::MimeVersion::Version0</a></li>
				
					<li><a href="./Mail/MimeVersion/Version1.html">Mail::MimeVersion::Version1</a></li>
				
					<li><a href="./Mail/MimeVersionElement.html">Mail::MimeVersionElement</a></li>
				
					<li><a href="./Mail/MimeVersionField.html">Mail::MimeVersionField</a></li>
				
					<li><a href="./Mail/MimeVersionParser.html">Mail::MimeVersionParser</a></li>
				
					<li><a href="./Mail/OptionalField.html">Mail::OptionalField</a></li>
				
					<li><a href="./Mail/POP3.html">Mail::POP3</a></li>
				
					<li><a href="./Mail/ParameterHash.html">Mail::ParameterHash</a></li>
				
					<li><a href="./Mail/Part.html">Mail::Part</a></li>
				
					<li><a href="./Mail/PartsList.html">Mail::PartsList</a></li>
				
					<li><a href="./Mail/Patterns.html">Mail::Patterns</a></li>
				
					<li><a href="./Mail/PhraseList.html">Mail::PhraseList</a></li>
				
					<li><a href="./Mail/PhraseLists.html">Mail::PhraseLists</a></li>
				
					<li><a href="./Mail/PhraseLists/PrimaryPhrase0.html">Mail::PhraseLists::PrimaryPhrase0</a></li>
				
					<li><a href="./Mail/PhraseListsParser.html">Mail::PhraseListsParser</a></li>
				
					<li><a href="./Mail/RFC2045.html">Mail::RFC2045</a></li>
				
					<li><a href="./Mail/RFC2045/CustomXToken0.html">Mail::RFC2045::CustomXToken0</a></li>
				
					<li><a href="./Mail/RFC2045Parser.html">Mail::RFC2045Parser</a></li>
				
					<li><a href="./Mail/RFC2822.html">Mail::RFC2822</a></li>
				
					<li><a href="./Mail/RFC2822/AddrSpec0.html">Mail::RFC2822::AddrSpec0</a></li>
				
					<li><a href="./Mail/RFC2822/Address0.html">Mail::RFC2822::Address0</a></li>
				
					<li><a href="./Mail/RFC2822/Address1.html">Mail::RFC2822::Address1</a></li>
				
					<li><a href="./Mail/RFC2822/AddressList0.html">Mail::RFC2822::AddressList0</a></li>
				
					<li><a href="./Mail/RFC2822/AddressList1.html">Mail::RFC2822::AddressList1</a></li>
				
					<li><a href="./Mail/RFC2822/AngleAddr0.html">Mail::RFC2822::AngleAddr0</a></li>
				
					<li><a href="./Mail/RFC2822/Atom0.html">Mail::RFC2822::Atom0</a></li>
				
					<li><a href="./Mail/RFC2822/CFWS0.html">Mail::RFC2822::CFWS0</a></li>
				
					<li><a href="./Mail/RFC2822/CFWS1.html">Mail::RFC2822::CFWS1</a></li>
				
					<li><a href="./Mail/RFC2822/Comment0.html">Mail::RFC2822::Comment0</a></li>
				
					<li><a href="./Mail/RFC2822/Comment1.html">Mail::RFC2822::Comment1</a></li>
				
					<li><a href="./Mail/RFC2822/Date0.html">Mail::RFC2822::Date0</a></li>
				
					<li><a href="./Mail/RFC2822/DateTime0.html">Mail::RFC2822::DateTime0</a></li>
				
					<li><a href="./Mail/RFC2822/DateTime1.html">Mail::RFC2822::DateTime1</a></li>
				
					<li><a href="./Mail/RFC2822/Day0.html">Mail::RFC2822::Day0</a></li>
				
					<li><a href="./Mail/RFC2822/DayOfWeek0.html">Mail::RFC2822::DayOfWeek0</a></li>
				
					<li><a href="./Mail/RFC2822/DomainLiteral0.html">Mail::RFC2822::DomainLiteral0</a></li>
				
					<li><a href="./Mail/RFC2822/DomainLiteral1.html">Mail::RFC2822::DomainLiteral1</a></li>
				
					<li><a href="./Mail/RFC2822/DomainText0.html">Mail::RFC2822::DomainText0</a></li>
				
					<li><a href="./Mail/RFC2822/DomainText1.html">Mail::RFC2822::DomainText1</a></li>
				
					<li><a href="./Mail/RFC2822/DotAtom0.html">Mail::RFC2822::DotAtom0</a></li>
				
					<li><a href="./Mail/RFC2822/DotAtomText0.html">Mail::RFC2822::DotAtomText0</a></li>
				
					<li><a href="./Mail/RFC2822/FWS0.html">Mail::RFC2822::FWS0</a></li>
				
					<li><a href="./Mail/RFC2822/FWS1.html">Mail::RFC2822::FWS1</a></li>
				
					<li><a href="./Mail/RFC2822/Group0.html">Mail::RFC2822::Group0</a></li>
				
					<li><a href="./Mail/RFC2822/Hour0.html">Mail::RFC2822::Hour0</a></li>
				
					<li><a href="./Mail/RFC2822/ItemName0.html">Mail::RFC2822::ItemName0</a></li>
				
					<li><a href="./Mail/RFC2822/ItemName1.html">Mail::RFC2822::ItemName1</a></li>
				
					<li><a href="./Mail/RFC2822/LocalDotAtom0.html">Mail::RFC2822::LocalDotAtom0</a></li>
				
					<li><a href="./Mail/RFC2822/LocalDotAtomText0.html">Mail::RFC2822::LocalDotAtomText0</a></li>
				
					<li><a href="./Mail/RFC2822/MailboxList0.html">Mail::RFC2822::MailboxList0</a></li>
				
					<li><a href="./Mail/RFC2822/MailboxList1.html">Mail::RFC2822::MailboxList1</a></li>
				
					<li><a href="./Mail/RFC2822/MailboxListGroup0.html">Mail::RFC2822::MailboxListGroup0</a></li>
				
					<li><a href="./Mail/RFC2822/MessageIds0.html">Mail::RFC2822::MessageIds0</a></li>
				
					<li><a href="./Mail/RFC2822/MessageIds1.html">Mail::RFC2822::MessageIds1</a></li>
				
					<li><a href="./Mail/RFC2822/Minute0.html">Mail::RFC2822::Minute0</a></li>
				
					<li><a href="./Mail/RFC2822/Month0.html">Mail::RFC2822::Month0</a></li>
				
					<li><a href="./Mail/RFC2822/MsgId0.html">Mail::RFC2822::MsgId0</a></li>
				
					<li><a href="./Mail/RFC2822/MsgIdDomainText0.html">Mail::RFC2822::MsgIdDomainText0</a></li>
				
					<li><a href="./Mail/RFC2822/MsgIdDomainText1.html">Mail::RFC2822::MsgIdDomainText1</a></li>
				
					<li><a href="./Mail/RFC2822/MsgIdDotAtomText0.html">Mail::RFC2822::MsgIdDotAtomText0</a></li>
				
					<li><a href="./Mail/RFC2822/MsgIdValue0.html">Mail::RFC2822::MsgIdValue0</a></li>
				
					<li><a href="./Mail/RFC2822/NameAddr0.html">Mail::RFC2822::NameAddr0</a></li>
				
					<li><a href="./Mail/RFC2822/NameValList0.html">Mail::RFC2822::NameValList0</a></li>
				
					<li><a href="./Mail/RFC2822/NameValList1.html">Mail::RFC2822::NameValList1</a></li>
				
					<li><a href="./Mail/RFC2822/NameValList2.html">Mail::RFC2822::NameValList2</a></li>
				
					<li><a href="./Mail/RFC2822/NameValPair0.html">Mail::RFC2822::NameValPair0</a></li>
				
					<li><a href="./Mail/RFC2822/NoFoldLiteral0.html">Mail::RFC2822::NoFoldLiteral0</a></li>
				
					<li><a href="./Mail/RFC2822/NoFoldQuote0.html">Mail::RFC2822::NoFoldQuote0</a></li>
				
					<li><a href="./Mail/RFC2822/Path0.html">Mail::RFC2822::Path0</a></li>
				
					<li><a href="./Mail/RFC2822/PhraseList0.html">Mail::RFC2822::PhraseList0</a></li>
				
					<li><a href="./Mail/RFC2822/PhraseList1.html">Mail::RFC2822::PhraseList1</a></li>
				
					<li><a href="./Mail/RFC2822/QuotedDomain0.html">Mail::RFC2822::QuotedDomain0</a></li>
				
					<li><a href="./Mail/RFC2822/QuotedPair0.html">Mail::RFC2822::QuotedPair0</a></li>
				
					<li><a href="./Mail/RFC2822/QuotedString0.html">Mail::RFC2822::QuotedString0</a></li>
				
					<li><a href="./Mail/RFC2822/QuotedString1.html">Mail::RFC2822::QuotedString1</a></li>
				
					<li><a href="./Mail/RFC2822/Received0.html">Mail::RFC2822::Received0</a></li>
				
					<li><a href="./Mail/RFC2822/Return0.html">Mail::RFC2822::Return0</a></li>
				
					<li><a href="./Mail/RFC2822/Second0.html">Mail::RFC2822::Second0</a></li>
				
					<li><a href="./Mail/RFC2822/Time0.html">Mail::RFC2822::Time0</a></li>
				
					<li><a href="./Mail/RFC2822/TimeOfDay0.html">Mail::RFC2822::TimeOfDay0</a></li>
				
					<li><a href="./Mail/RFC2822/TimeOfDay1.html">Mail::RFC2822::TimeOfDay1</a></li>
				
					<li><a href="./Mail/RFC2822/Year0.html">Mail::RFC2822::Year0</a></li>
				
					<li><a href="./Mail/RFC2822/Zone0.html">Mail::RFC2822::Zone0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete.html">Mail::RFC2822Obsolete</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsAddrList0.html">Mail::RFC2822Obsolete::ObsAddrList0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsAddrList1.html">Mail::RFC2822Obsolete::ObsAddrList1</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsAngleAddr0.html">Mail::RFC2822Obsolete::ObsAngleAddr0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsBcc0.html">Mail::RFC2822Obsolete::ObsBcc0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsCc0.html">Mail::RFC2822Obsolete::ObsCc0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsComments0.html">Mail::RFC2822Obsolete::ObsComments0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsDay0.html">Mail::RFC2822Obsolete::ObsDay0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsDay1.html">Mail::RFC2822Obsolete::ObsDay1</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsDayOfWeek0.html">Mail::RFC2822Obsolete::ObsDayOfWeek0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsDomain0.html">Mail::RFC2822Obsolete::ObsDomain0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsDomain1.html">Mail::RFC2822Obsolete::ObsDomain1</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsDomainList0.html">Mail::RFC2822Obsolete::ObsDomainList0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsDomainList1.html">Mail::RFC2822Obsolete::ObsDomainList1</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsFWS0.html">Mail::RFC2822Obsolete::ObsFWS0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsFWS1.html">Mail::RFC2822Obsolete::ObsFWS1</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsFrom0.html">Mail::RFC2822Obsolete::ObsFrom0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsHour0.html">Mail::RFC2822Obsolete::ObsHour0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsHour1.html">Mail::RFC2822Obsolete::ObsHour1</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsInReplyTo0.html">Mail::RFC2822Obsolete::ObsInReplyTo0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsKeywords0.html">Mail::RFC2822Obsolete::ObsKeywords0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsLocalPart0.html">Mail::RFC2822Obsolete::ObsLocalPart0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsLocalPart1.html">Mail::RFC2822Obsolete::ObsLocalPart1</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsMboxList0.html">Mail::RFC2822Obsolete::ObsMboxList0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsMboxList1.html">Mail::RFC2822Obsolete::ObsMboxList1</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsMessageId0.html">Mail::RFC2822Obsolete::ObsMessageId0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsMinute0.html">Mail::RFC2822Obsolete::ObsMinute0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsMinute1.html">Mail::RFC2822Obsolete::ObsMinute1</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsMonth0.html">Mail::RFC2822Obsolete::ObsMonth0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsOptional0.html">Mail::RFC2822Obsolete::ObsOptional0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsOrigDate0.html">Mail::RFC2822Obsolete::ObsOrigDate0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsPhraseList0.html">Mail::RFC2822Obsolete::ObsPhraseList0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsPhraseList1.html">Mail::RFC2822Obsolete::ObsPhraseList1</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsQp0.html">Mail::RFC2822Obsolete::ObsQp0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsReceived0.html">Mail::RFC2822Obsolete::ObsReceived0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsReferences0.html">Mail::RFC2822Obsolete::ObsReferences0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsReplyTo0.html">Mail::RFC2822Obsolete::ObsReplyTo0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsResentBcc0.html">Mail::RFC2822Obsolete::ObsResentBcc0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsResentCc0.html">Mail::RFC2822Obsolete::ObsResentCc0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsResentDate0.html">Mail::RFC2822Obsolete::ObsResentDate0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsResentFrom0.html">Mail::RFC2822Obsolete::ObsResentFrom0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsResentMid0.html">Mail::RFC2822Obsolete::ObsResentMid0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsResentRply0.html">Mail::RFC2822Obsolete::ObsResentRply0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsResentSend0.html">Mail::RFC2822Obsolete::ObsResentSend0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsResentTo0.html">Mail::RFC2822Obsolete::ObsResentTo0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsReturn0.html">Mail::RFC2822Obsolete::ObsReturn0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsRoute0.html">Mail::RFC2822Obsolete::ObsRoute0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsSecond0.html">Mail::RFC2822Obsolete::ObsSecond0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsSecond1.html">Mail::RFC2822Obsolete::ObsSecond1</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsSender0.html">Mail::RFC2822Obsolete::ObsSender0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsSubject0.html">Mail::RFC2822Obsolete::ObsSubject0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsText0.html">Mail::RFC2822Obsolete::ObsText0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsText1.html">Mail::RFC2822Obsolete::ObsText1</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsTo0.html">Mail::RFC2822Obsolete::ObsTo0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsYear0.html">Mail::RFC2822Obsolete::ObsYear0</a></li>
				
					<li><a href="./Mail/RFC2822Obsolete/ObsYear1.html">Mail::RFC2822Obsolete::ObsYear1</a></li>
				
					<li><a href="./Mail/RFC2822ObsoleteParser.html">Mail::RFC2822ObsoleteParser</a></li>
				
					<li><a href="./Mail/RFC2822Parser.html">Mail::RFC2822Parser</a></li>
				
					<li><a href="./Mail/Received.html">Mail::Received</a></li>
				
					<li><a href="./Mail/Received/Primary0.html">Mail::Received::Primary0</a></li>
				
					<li><a href="./Mail/ReceivedElement.html">Mail::ReceivedElement</a></li>
				
					<li><a href="./Mail/ReceivedField.html">Mail::ReceivedField</a></li>
				
					<li><a href="./Mail/ReceivedParser.html">Mail::ReceivedParser</a></li>
				
					<li><a href="./Mail/ReferencesField.html">Mail::ReferencesField</a></li>
				
					<li><a href="./Mail/ReplyToField.html">Mail::ReplyToField</a></li>
				
					<li><a href="./Mail/ResentBccField.html">Mail::ResentBccField</a></li>
				
					<li><a href="./Mail/ResentCcField.html">Mail::ResentCcField</a></li>
				
					<li><a href="./Mail/ResentDateField.html">Mail::ResentDateField</a></li>
				
					<li><a href="./Mail/ResentFromField.html">Mail::ResentFromField</a></li>
				
					<li><a href="./Mail/ResentMessageIdField.html">Mail::ResentMessageIdField</a></li>
				
					<li><a href="./Mail/ResentSenderField.html">Mail::ResentSenderField</a></li>
				
					<li><a href="./Mail/ResentToField.html">Mail::ResentToField</a></li>
				
					<li><a href="./Mail/ReturnPathField.html">Mail::ReturnPathField</a></li>
				
					<li><a href="./Mail/Ruby18.html">Mail::Ruby18</a></li>
				
					<li><a href="./Mail/Ruby18.html">Mail::Ruby18</a></li>
				
					<li><a href="./Mail/Ruby19.html">Mail::Ruby19</a></li>
				
					<li><a href="./Mail/SMTP.html">Mail::SMTP</a></li>
				
					<li><a href="./Mail/SenderField.html">Mail::SenderField</a></li>
				
					<li><a href="./Mail/Sendmail.html">Mail::Sendmail</a></li>
				
					<li><a href="./Mail/StructuredField.html">Mail::StructuredField</a></li>
				
					<li><a href="./Mail/SubjectField.html">Mail::SubjectField</a></li>
				
					<li><a href="./Mail/TestMailer.html">Mail::TestMailer</a></li>
				
					<li><a href="./Mail/ToField.html">Mail::ToField</a></li>
				
					<li><a href="./Mail/UnstructuredField.html">Mail::UnstructuredField</a></li>
				
					<li><a href="./Mail/Utilities.html">Mail::Utilities</a></li>
				
					<li><a href="./Mail/VERSION.html">Mail::VERSION</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1><a href="Mail.html">Mail</a></h1>
<h2>Introduction</h2>
<p>
<a href="Mail.html">Mail</a> is an internet library for Ruby that is
designed to handle emails generation, parsing and sending in a simple,
rubyesque manner.
</p>
<p>
The purpose of this library is to provide a single point of access to
handle all email functions, including sending and receiving emails.  All
network type actions are done through proxy methods to Net::SMTP, Net::POP3
etc.
</p>
<p>
Built from my experience with TMail, it is designed to be a pure ruby
implementation that makes generating, sending and parsing emails a no
brainer.
</p>
<p>
It is also designed form the ground up to work with Ruby 1.9.  This is
because Ruby 1.9 handles text encodings much more magically than Ruby 1.8.x
and so these features have been taken full advantage of in this library
allowing <a href="Mail.html">Mail</a> to handle a lot more messages more
cleanly than TMail.  <a href="Mail.html">Mail</a> does run on Ruby 1.8.x...
it&#8217;s just not as fun to code.
</p>
<p>
Finally, <a href="Mail.html">Mail</a> has been designed with a very simple
object oriented system that really opens up the email messages you are
parsing, if you know what you are doing, you can fiddle with every last bit
of your email directly.
</p>
<h2>Compatibility</h2>
<p>
<a href="Mail.html">Mail</a> is tested and works on the following
platforms:
</p>
<ul>
<li><p>
jruby-1.4.0 [ [x86_64-java] ]
</p>
</li>
<li><p>
ree-1.8.7-2010.01 [ x86_64 ]
</p>
</li>
<li><p>
ruby-1.8.7-p249 [ x86_64 ]
</p>
</li>
<li><p>
ruby-1.9.1-head [ x86_64 ] (10 April 2010)
</p>
</li>
<li><p>
ruby-1.9.2-head [ x86_64 ] (10 April 2010)
</p>
</li>
</ul>
<p>
<a href="Mail.html">Mail</a> seems to work fine on JRuby as well, however
there is some weird QP problem that only shows up while running the specs,
running it directly works fine.... weird.  Any jRuby gurus who want to help
out, please do.
</p>
<h2>Discussion</h2>
<p>
If you want to discuss mail with like minded individuals, please subscribe
to the Google Group <a
href="http://groups.google.com/group/mail-ruby">groups.google.com/group/mail-ruby</a>
</p>
<h2>Current Capabilities of <a href="Mail.html">Mail</a></h2>
<ul>
<li><p>
RFC2822 Support, Reading and Writing
</p>
</li>
<li><p>
RFC2045-2049 Support for multipart emails
</p>
</li>
<li><p>
Support for creating multipart alternate emails
</p>
</li>
<li><p>
Support for reading multipart/report emails &amp; getting details from such
</p>
</li>
<li><p>
Support for multibyte emails - needs quite a lot of work and testing
</p>
</li>
<li><p>
Wrappers for File, Net/POP3, Net/SMTP
</p>
</li>
<li><p>
Auto encoding of non US-ASCII header fields
</p>
</li>
<li><p>
Auto encoding of non US-ASCII bodies
</p>
</li>
</ul>
<p>
<a href="Mail.html">Mail</a> is RFC2822 compliant now, that is, it can
parse and generate valid US-ASCII emails.  There are a few obsoleted syntax
emails that it will have problems with, but it also is quite robust,
meaning, if it finds something it doesn&#8217;t understand it will not
crash, instead, it will skip the problem and keep parsing.  In the case of
a header it doesn&#8217;t understand, it will initialise the header as an
optional unstructured field and continue parsing.
</p>
<p>
This means <a href="Mail.html">Mail</a> won&#8217;t (ever) crunch your data
(I think).
</p>
<p>
You can also create MIME emails.  There are helper methods for making a 
multipart/alternate email for text/plain and text/html (the most common
pair) and you can manually create any other type of MIME email.
</p>
<h2>Roadmap</h2>
<p>
Next TODO:
</p>
<ul>
<li><p>
Improve MIME support for character sets in headers, currently works,
mostly, needs refinement.
</p>
</li>
<li><p>
Add IMAP wrapper
</p>
</li>
</ul>
<h2>Testing Policy</h2>
<p>
Basically&#8230; we do BDD on <a href="Mail.html">Mail</a>.  No method gets
written in <a href="Mail.html">Mail</a> without a corresponding or covering
spec.  We expect as a minimum 100% coverage measured by RCov.  While this
is not perfect by any measure, it is pretty good.  Additionally, all
functional tests from TMail are to be passing before the gem gets released.
</p>
<p>
It also means you can be sure <a href="Mail.html">Mail</a> will behave
correctly.
</p>
<h2>API Policy</h2>
<p>
No API removals within a single point release.  All removals to be
depreciated with warnings for at least one MINOR point release before
removal.
</p>
<p>
Also, all private or protected methods to be declared as such - though this
is still I/P.
</p>
<h2>Installation</h2>
<p>
Installation is fairly simple, I host mail on gemcutter, so you can just
do:
</p>
<pre>
 # gem install mail
</pre>
<p>
if you are on gemcutter, if you aren&#8217;t, you can by doing:
</p>
<pre>
 # gem install gemcutter
 # gem tumble
 # gem install mail
 
</pre>
<p>
Warning though, the above will change your first gem repository to
gemcutter, this may or may not be a problem for you.
</p>
<p>
If you want to install mail manually, you can download the gem from github
and do:
</p>
<pre>
 # gem install mail-2.2.0.gem
 
</pre>
<h2>Encodings</h2>
<p>
If you didn&#8217;t know, handling encodings in Emails is not as straight
forward as you would hope.
</p>
<p>
I have tried to simplify it some:
</p>
<ol>
<li><p>
All objects that can render into an email, have an :encoded method. 
Encoded will return the object as a complete string ready to send in the
mail system, that is, it will include the header field and value and CRLF
at the end and wrapped as needed.
</p>
</li>
<li><p>
All objects that can render into an email, have a :decoded method.  Decoded
will return the object&#8217;s &#8220;value&#8221; only as a string.  This
means it will not include the header fields (like &#8216;To:&#8217; or
&#8216;Subject:&#8217;).
</p>
</li>
<li><p>
By default, calling :to_s on a container object will call it&#8217;s
encoded method, while :to_s on a field object will call it&#8217;s decoded
method.  So calling :to_s on a <a href="Mail.html">Mail</a> object will
return the mail, all encoded ready to send, while calling :to_s on the From
field or the body will return the decoded value of the object.  The header
object of <a href="Mail.html">Mail</a> is considered a container.  If you
are in doubt, call :encoded, or :decoded explicitly, this is safer if you
are not sure.
</p>
</li>
<li><p>
Structured fields that have parameter values that can be encoded (e.g.
Content-Type) will provide decoded parameter values when you call the
parameter names as methods against the object.
</p>
</li>
<li><p>
Structured fields that have parameter values that can be encoded (e.g.
Content-Type) will provide encoded parameter values when you call the
parameter names through the 
object.parameters[&#8217;<parameter_name>&#8217;] method call.
</p>
</li>
</ol>
<pre>
 
</pre>
<h2>Contributing</h2>
<p>
Please do!  Contributing is easy in Mail:
</p>
<ol>
<li><p>
Check the Reference RFCs, they are in the References directory, so no
excuses.
</p>
</li>
<li><p>
Open a ticket on github, maybe someone else has the problem too
</p>
</li>
<li><p>
Make a fork of my github repository
</p>
</li>
<li><p>
Make a spec driven change to the code base
</p>
</li>
<li><p>
Make sure it works and all specs pass, on Ruby versions 1.8.6, 1.8.7 and
1.9
</p>
</li>
<li><p>
Update the README if needed to reflect your change / addition
</p>
</li>
<li><p>
With all specs passing push your changes back to your fork
</p>
</li>
<li><p>
Send me a pull request
</p>
</li>
</ol>
<h2>Usage</h2>
<p>
All major mail functions should be able to happen from the Mail::module.
So, you should be able to just &#8220;require &#8216;mail&#8217;&#8221; to
get started.
</p>
<h3>Making an email</h3>
<pre>
 require 'mail'
 
 mail = Mail.new do
      from 'mikel@test.lindsaar.net'
        to 'you@test.lindsaar.net'
   subject 'This is a test email'
      body File.read('body.txt')
 end

 mail.to_s #=&gt; &quot;From: mikel@test.lindsaar.net\r\nTo: you@...
</pre>
<h3>Making an email, have it your way:</h3>
<pre>
 require 'mail'
 
 mail = Mail.new do
   body File.read('body.txt')
 end

 mail['from'] = 'mikel@test.lindsaar.net'
 mail[:to]    = 'you@test.lindsaar.net'
 mail.subject = 'This is a test email'
 
 mail.to_s #=&gt; &quot;From: mikel@test.lindsaar.net\r\nTo: you@...
</pre>
<h3>Don&#8217;t Worry About Message IDs:</h3>
<pre>
 require 'mail'
 
 mail = Mail.new do
     to 'you@test.lindsaar.net'
   body 'Some simple body'
 end

 mail.to_s =~ /Message\-ID: &lt;[\d\w_]+@.+.mail/ #=&gt; 27
 
</pre>
<p>
<a href="Mail.html">Mail</a> will automatically add a Message-ID field if
it is missing and give it a unique, random Message-ID along the lines of:
</p>
<pre>
 &lt;4a7ff76d7016_13a81ab802e1@local.fqdn.mail&gt;
 
</pre>
<h3>Or do worry about Message-IDs:</h3>
<pre>
 require 'mail'
 
 mail = Mail.new do
          to 'you@test.lindsaar.net'
  message_id '&lt;ThisIsMyMessageId@some.domain.com&gt;'
        body 'Some simple body'
 end
 
 mail.to_s =~ /Message\-ID: &lt;ThisIsMyMessageId@some.domain.com&gt;/ #=&gt; 27
</pre>
<p>
<a href="Mail.html">Mail</a> will take the message_id you assign to it
trusting that you know what you are doing.
</p>
<h3>Sending an email:</h3>
<p>
<a href="Mail.html">Mail</a> defaults to sending via SMTP to local host
port 25.  If you have a  sendmail or postfix daemon running on on this
port, sending email is as easy as:
</p>
<pre>
 Mail.deliver do
       from 'me@test.lindsaar.net'
         to 'you@test.lindsaar.net'
    subject 'Here is the image you wanted'
       body File.read('body.txt')
   add_file '/full/path/to/somefile.png'
 end
</pre>
<p>
or
</p>
<pre>
 
 mail = Mail.new do
       from 'me@test.lindsaar.net'
         to 'you@test.lindsaar.net'
    subject 'Here is the image you wanted'
       body File.read('body.txt')
   add_file {:filename =&gt; 'somefile.png', :content =&gt; File.read('/somefile.png')}
 end
 
 mail.deliver!
</pre>
<p>
Sending via sendmail can be done like so:
</p>
<pre>
  mail = Mail.new do
        from 'me@test.lindsaar.net'
          to 'you@test.lindsaar.net'
     subject 'Here is the image you wanted'
        body File.read('body.txt')
    add_file {:filename =&gt; 'somefile.png', :content =&gt; File.read('/somefile.png')}
  end
  
  mail.delivery_method :sendmail
  
  mail.deliver
</pre>
<p>
mail.deliver!
</p>
<h3>Getting emails from a pop server:</h3>
<p>
The most recent email:
</p>
<pre>
 Mail.defaults do
   retriever_method :pop3, { :address             =&gt; &quot;pop.gmail.com&quot;,
                             :port                =&gt; 995,
                             :user_name           =&gt; '&lt;username&gt;',
                             :password            =&gt; '&lt;password&gt;',
                             :enable_ssl          =&gt; true }
 end

 Mail.all    #=&gt; Returns an array of all emails
 Mail.first  #=&gt; Returns the first unread email
 Mail.last   #=&gt; Returns the first unread email
</pre>
<p>
The first 10 emails sorted by date in ascending order:
</p>
<pre>
 require 'mail'

 Mail.defaults do
   retriever_method :pop3, { :address             =&gt; &quot;pop.gmail.com&quot;,
                             :port                =&gt; 995,
                             :user_name           =&gt; '&lt;username&gt;',
                             :password            =&gt; '&lt;password&gt;',
                             :enable_ssl          =&gt; true }
 end

 emails = Mail.find(:what =&gt; :first, :count =&gt; 10, :order =&gt; :asc)
 emails.length #=&gt; 10
</pre>
<p>
Or even all emails:
</p>
<pre>
 Mail.defaults do
   retriever_method :pop3, { :address             =&gt; &quot;pop.gmail.com&quot;,
                             :port                =&gt; 995,
                             :user_name           =&gt; '&lt;username&gt;',
                             :password            =&gt; '&lt;password&gt;',
                             :enable_ssl          =&gt; true }
 end

 emails = Mail.all

 emails.length #=&gt; LOTS!
</pre>
<h3>Reading an Email</h3>
<pre>
 require 'mail'
 
 mail = Mail.read('/path/to/message.eml')
 
 mail.envelope.from   #=&gt; 'mikel@test.lindsaar.net'
 mail.from.addresses  #=&gt; ['mikel@test.lindsaar.net', 'ada@test.lindsaar.net']
 mail.sender.address  #=&gt; 'mikel@test.lindsaar.net'
 mail.to              #=&gt; 'bob@test.lindsaar.net'
 mail.cc              #=&gt; 'sam@test.lindsaar.net'
 mail.subject         #=&gt; &quot;This is the subject&quot;
 mail.date.to_s       #=&gt; '21 Nov 1997 09:55:06 -0600'
 mail.message_id      #=&gt; '&lt;4D6AA7EB.6490534@xxx.xxx&gt;'
 mail.body.decoded    #=&gt; 'This is the body of the email...
</pre>
<p>
Many more methods available.
</p>
<h3>Reading a Multipart Email</h3>
<pre>
 require 'mail'
 
 mail = Mail.read('multipart_email')
 
 mail.multipart?          #=&gt; true
 mail.parts.length        #=&gt; 2
 mail.preamble            #=&gt; &quot;Text before the first part&quot;
 mail.epilogue            #=&gt; &quot;Text after the last part&quot;
 mail.parts.map { |p| p.content_type }  #=&gt; ['text/plain', 'application/pdf']
 mail.parts.map { |p| p.class }         #=&gt; [Mail::Message, Mail::Message]
 mail.parts[0].content_type_parameters  #=&gt; {'charset' =&gt; 'ISO-8859-1'}
 mail.parts[1].content_type_parameters  #=&gt; {'name' =&gt; 'my.pdf'}
</pre>
<p>
<a href="Mail.html">Mail</a> generates a tree of parts.  Each message has
many or no parts.  Each part is another message which can have many or no
parts.
</p>
<p>
A message will only have parts if it is a multipart/mixed or related/mixed
content type and has a boundary defined.
</p>
<h3>Writing and sending a multipart/alternative (html and text) email</h3>
<p>
<a href="Mail.html">Mail</a> makes some basic assumptions and makes doing
the common thing as  simple as possible.... (asking a lot from a mail
library)
</p>
<pre>
 require 'mail'

 mail = Mail.deliver do
   to 'nicolas@test.lindsaar.net.au'
   from 'Mikel Lindsaar &lt;mikel@test.lindsaar.net.au&gt;'
   subject 'First multipart email sent with Mail'
   text_part do
     body 'This is plain text'
   end
   html_part do
     content_type 'text/html; charset=UTF-8'
     body '&lt;h1&gt;This is HTML&lt;/h1&gt;'
   end
 end
 
</pre>
<p>
<a href="Mail.html">Mail</a> then delivers the email at the end of the
block and returns the resulting <a
href="Mail/Message.html">Mail::Message</a> object, which you can then
inspect if you so desire...
</p>
<pre>
 puts mail.to_s #=&gt;

 To: nicolas@test.lindsaar.net.au
 From: Mikel Lindsaar &lt;mikel@test.lindsaar.net.au&gt;
 Subject: First multipart email sent with Mail
 Content-Type: multipart/alternative;
   boundary=--==_mimepart_4a914f0c911be_6f0f1ab8026659
 Message-ID: &lt;4a914f12ac7e_6f0f1ab80267d1@baci.local.mail&gt;
 Date: Mon, 24 Aug 2009 00:15:46 +1000
 Mime-Version: 1.0
 Content-Transfer-Encoding: 7bit

 ----==_mimepart_4a914f0c911be_6f0f1ab8026659
 Content-ID: &lt;4a914f12c8c4_6f0f1ab80268d6@baci.local.mail&gt;
 Date: Mon, 24 Aug 2009 00:15:46 +1000
 Mime-Version: 1.0
 Content-Type: text/plain
 Content-Transfer-Encoding: 7bit

 This is plain text
 ----==_mimepart_4a914f0c911be_6f0f1ab8026659
 Content-Type: text/html; charset=UTF-8
 Content-ID: &lt;4a914f12cf86_6f0f1ab802692c@baci.local.mail&gt;
 Date: Mon, 24 Aug 2009 00:15:46 +1000
 Mime-Version: 1.0
 Content-Transfer-Encoding: 7bit

 &lt;h1&gt;This is HTML&lt;/h1&gt;
 ----==_mimepart_4a914f0c911be_6f0f1ab8026659--
</pre>
<p>
<a href="Mail.html">Mail</a> inserts the content transfer encoding, the
mime version,  the content-id&#8217;s and handles the content-type and
boundary.
</p>
<p>
<a href="Mail.html">Mail</a> assumes that if your text in the body is only
us-ascii, that your transfer encoding is 7bit and it is text/plain.  You
can override this by explicitly declaring it.
</p>
<h3>Making Multipart/Alternate, without a block</h3>
<p>
You don&#8217;t have to use a block with the text and html part included,
you can just do it declaratively.  However, you need to add Mail::Parts to
an email, not Mail::Messages.
</p>
<pre>
 require 'mail'
 
 mail = Mail.new do
   to 'nicolas@test.lindsaar.net.au'
   from 'Mikel Lindsaar &lt;mikel@test.lindsaar.net.au&gt;'
   subject 'First multipart email sent with Mail'
 end

 text_part = Mail::Part.new do
   body 'This is plain text'
 end
 
 html_part = Mail::Part.new do
   content_type 'text/html; charset=UTF-8'
   body '&lt;h1&gt;This is HTML&lt;/h1&gt;'
 end
 
 mail.text_part = text_part
 mail.html_part = html_part
</pre>
<p>
Results in the same email as done using the block form
</p>
<h3>Getting error reports from an email:</h3>
<pre>
 require 'mail'
 
 @mail = Mail.read('/path/to/bounce_message.eml')
 
 @mail.bounced?         #=&gt; true
 @mail.final_recipient  #=&gt; rfc822;mikel@dont.exist.com
 @mail.action           #=&gt; failed
 @mail.error_status     #=&gt; 5.5.0
 @mail.diagnostic_code  #=&gt; smtp;550 Requested action not taken: mailbox unavailable 
 @mail.retryable?       #=&gt; false
</pre>
<h3>Attaching and Detaching Files</h3>
<pre>
  require 'mail'
</pre>
<p>
You can just read the file off an absolute path, <a
href="Mail.html">Mail</a> will try to guess the mime_type and will encode
the file in Base64 for you.
</p>
<pre>
  
  @mail = Mail.new
  @mail.add_file(&quot;/path/to/file.jpg&quot;)
  @mail.parts.first.attachment? #=&gt; true
  @mail.parts.first.content_transfer_encoding.to_s #=&gt; 'base64'
  @mail.attachments.first.mime_type #=&gt; 'image/jpg'
  @mail.attachments.first.filename #=&gt; 'file.jpg'
  @mail.attachments.first.decoded == File.read('/path/to/file.jpg') #=&gt; true
</pre>
<p>
Or You can pass in file_data and give it a filename, again, mail will try
and guess the mime_type for you.
</p>
<pre>
  
  @mail = Mail.new
  @mail.attachments['myfile.pdf'] = File.read('path/to/myfile.pdf')
  @mail.parts.first.attachment? #=&gt; true
  @mail.attachments.first.mime_type #=&gt; 'application/pdf'
  @mail.attachments.first.decoded == File.read('path/to/myfile.pdf') #=&gt; true
</pre>
<p>
You can also override the guessed MIME media type if you really know better
than mail (this should be rarely needed)
</p>
<pre>
  @mail = Mail.new
  file_data = File.read('path/to/myfile.pdf')
  @mail.attachments['myfile.pdf'] = { :mime_type =&gt; 'application/x-pdf',
                                      :content =&gt; File.read('path/to/myfile.pdf') }
  @mail.parts.first.mime_type #=&gt; 'application/x-pdf'
</pre>
<p>
Of course... <a href="Mail.html">Mail</a> will round trip an attachment as
well
</p>
<pre>
  @mail = Mail.new do
    to 'nicolas@test.lindsaar.net.au'
    from 'Mikel Lindsaar &lt;mikel@test.lindsaar.net.au&gt;'
    subject 'First multipart email sent with Mail'
    text_part do
      body 'Here is the attachment you wanted'
    end
    html_part do
      content_type 'text/html; charset=UTF-8'
      body '&lt;h1&gt;Funky Title&lt;/h1&gt;&lt;p&gt;Here is the attachment you wanted&lt;/p&gt;'
    end
    add_file '/path/to/myfile.pdf'
  end

  @round_tripped_mail = Mail.new(@mail.encoded)
  
  @round_tripped_mail.attachments.length #=&gt; 1
  @round_tripped_mail.attachments.first.filename #=&gt; 'myfile.pdf'
</pre>
<h2>Using <a href="Mail.html">Mail</a> with Testing or Spec&#8217;ing Libraries</h2>
<p>
If mail is part of your system, you&#8217;ll need a way to test it without
actually sending emails, the TestMailer can do this for you.
</p>
<pre>
  require 'mail'
  =&gt; true
  Mail.defaults do
    delivery_method :test
  end
  =&gt; #&lt;Mail::Configuration:0x19345a8 @delivery_method=Mail::TestMailer&gt;
  Mail::TestMailer.deliveries
  =&gt; []
  Mail.deliver do
    to 'mikel@me.com'
    from 'you@you.com'
    subject 'testing'
    body 'hello'
  end
  =&gt; #&lt;Mail::Message:0x19284ec ...
  Mail::TestMailer.deliveries.length
  =&gt; 1
  Mail::TestMailer.deliveries.first
  =&gt; #&lt;Mail::Message:0x19284ec ...
  Mail::TestMailer.deliveries.clear
  =&gt; []
</pre>
<h2>Excerpts from TREC Spam Corpus 2005</h2>
<p>
The spec fixture files in spec/fixtures/emails/from_trec_2005 are from the 
2005 TREC Public Spam Corpus. They remain copyrighted under the terms of
that project and license agreement. They are used in this project to verify
and describe the development of this email parser implementation.
</p>
<p>
<a
href="http://plg.uwaterloo.ca/~gvcormac/treccorpus/">plg.uwaterloo.ca/~gvcormac/treccorpus/</a>
</p>
<p>
They are used as allowed by &#8216;Permitted Uses, Clause 3&#8217;:
</p>
<pre>
    &quot;Small excerpts of the information may be displayed to others
     or published in a scientific or technical context, solely for
     the purpose of describing the research and development and
     related issues.&quot;
     
     -- http://plg.uwaterloo.ca/~gvcormac/treccorpus/
</pre>
<h2>License:</h2>
<p>
(The MIT License)
</p>
<p>
Copyright &#169; 2009
</p>
<p>
Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the
&#8216;Software&#8217;), to deal in the Software without restriction,
including without limitation the rights to use, copy, modify, merge,
publish, distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to the
following conditions:
</p>
<p>
The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.
</p>
<p>
THE SOFTWARE IS PROVIDED &#8216;AS IS&#8217;, WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
USE OR OTHER DEALINGS IN THE SOFTWARE.
</p>

	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>
</body>
</html>

